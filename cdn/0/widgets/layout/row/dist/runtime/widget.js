System.register(["jimu-core","jimu-ui","jimu-layouts/layout-runtime"],(function(t){var n,e,o;return{setters:[function(t){n=t},function(t){e=t},function(t){o=t}],execute:function(){t(function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=470)}({0:function(t,e){t.exports=n},1:function(t,n){t.exports=e},25:function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return r}));var o=2,r=12},419:function(t,n){t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11 2v13h-1V2H6v13H5V2H1v12a1 1 0 001 1h12a1 1 0 001-1V2h-4zM2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2z"></path></svg>'},470:function(t,n,e){"use strict";e.r(n);var o,r,i,l,a,s,u,f,c=e(0),p="Row",d=e(1),h=e(5),g=e(51),y=(o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),m=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},v=function(){return(v=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return y(n,t),n.prototype.calHeight=function(t,n){var e,o,r,i,l,a,s,u,f,c,p,d,g;return this.props.isMultiRow?{height:n.height,alignSelf:null!==(o=null===(e=t.style)||void 0===e?void 0:e.alignSelf)&&void 0!==o?o:"flex-start"}:"ratio"===t.heightMode?{alignSelf:null!==(i=null===(r=t.style)||void 0===r?void 0:r.alignSelf)&&void 0!==i?i:"flex-start"}:(null===(l=t.autoProps)||void 0===l?void 0:l.height)===h.LayoutItemSizeModes.Auto?{height:"auto",alignSelf:null!==(s=null===(a=t.style)||void 0===a?void 0:a.alignSelf)&&void 0!==s?s:"flex-start"}:(null===(u=t.autoProps)||void 0===u?void 0:u.height)===h.LayoutItemSizeModes.Custom?{height:n.height,alignSelf:null!==(c=null===(f=t.style)||void 0===f?void 0:f.alignSelf)&&void 0!==c?c:"flex-start"}:(null===(p=t.autoProps)||void 0===p?void 0:p.height)===h.LayoutItemSizeModes.Stretch||"fit"===t.heightMode?{alignSelf:"stretch"}:parseFloat(n.height)>0?{height:n.height,alignSelf:null!==(g=null===(d=t.style)||void 0===d?void 0:d.alignSelf)&&void 0!==g?g:"flex-start"}:{alignSelf:"stretch"}},n.prototype.getStyle=function(t){var n,e,o,l,a,s,u=this.props,f=u.gutter,p=u.layoutItem,d=u.isMultiRow,g=p.bbox,y=this.calHeight(t,g);return null==t.offsetX&&null==t.offsetY||(y.transform="translate("+(null!==(n=t.offsetX)&&void 0!==n?n:0)+"px, "+(null!==(e=t.offsetY)&&void 0!==e?e:0)+"px)"),d?Object(c.css)(r||(r=m(["\n        padding: ","px 0;\n        transform: ",";\n        height: ",";\n        align-self: ",";\n      "],["\n        padding: ","px 0;\n        transform: ",";\n        height: ",";\n        align-self: ",";\n      "])),f/2,null!=t.offsetX||null!=t.offsetY?"translate("+(null!==(o=t.offsetX)&&void 0!==o?o:0)+"px, "+(null!==(l=t.offsetY)&&void 0!==l?l:0)+"px)":null,h.utils.getValueOfBBox(y,"height"),y.alignSelf):Object(c.css)(i||(i=m(["\n      padding-left: ","px;\n      padding-right: ","px;\n      transform: ",";\n      height: ",";\n      align-self: ",";\n    "],["\n      padding-left: ","px;\n      padding-right: ","px;\n      transform: ",";\n      height: ",";\n      align-self: ",";\n    "])),f/2,f/2,null!=t.offsetX||null!=t.offsetY?"translate("+(null!==(a=t.offsetX)&&void 0!==a?a:0)+"px, "+(null!==(s=t.offsetY)&&void 0!==s?s:0)+"px)":null,h.utils.getValueOfBBox(y,"height"),y.alignSelf)},n.prototype.render=function(){var t=this.props,n=t.span,e=t.offset,o=t.layoutId,r=t.layoutItem;if(null==r||r.isPending)return null;var i=c.lodash.assign({},g.a,r.setting),l=Object(c.classNames)("row-layout-item","col-"+n,"offset-"+e),a=h.utils.parseAspectRatio(i.aspectRatio),s=h.utils.handleOnebyOneAnimation(this.props);return Object(c.jsx)(h.LayoutItem,v({css:this.getStyle(i),className:l,layoutId:o,layoutItemId:r.id,forceAspectRatio:"ratio"===i.heightMode,aspectRatio:a,onClick:this.props.onClick},s))},n}(c.React.PureComponent),j=e(80),O=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),w=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},x=function(t){function n(n){var e=t.call(this,n)||this;return e.flipLeftRight=h.utils.isRTL(),e}return O(n,t),n.prototype.collectBounds=function(){var t,n=this,e=this.props.transformedLayout,o=null!==(t=e.order)&&void 0!==t?t:[];return this.childRects=[],o.forEach((function(t){var o,r,i=null===(r=null===(o=e.content)||void 0===o?void 0:o[t])||void 0===r?void 0:r.bbox;null!=i&&n.childRects.push({layoutId:e.id,id:t,left:parseInt(i.left,10),width:parseInt(i.width,10),height:parseInt(i.height,10)})})),this.childRects.sort((function(t,n){return t.left-n.left}))},n.prototype.createItem=function(t,n,e){var o,r,i=this.props,l=i.transformedLayout,a=i.config,s=i.isMultiRow,u=t[n],f=null!==(o=a.space)&&void 0!==o?o:0;if(0===n)r=u.left;else{var p=t[n-1];r=u.left-p.left-p.width}return Object(c.jsx)(b,{key:u.id,offset:r,gutter:f,span:u.width,isMultiRow:s,layoutId:l.id,layoutItemId:u.id,layoutItem:l.content[u.id],alignItems:e.alignItems})},n.prototype.render=function(){var t,n,e=this,o=this.props,r=o.layout,i=o.className,u=o.config;this.collectBounds();var f=this.childRects,p=null!==(t=u.style)&&void 0!==t?t:{},d=null!==(n=u.space)&&void 0!==n?n:0;return Object(c.jsx)(h.PageContext.Consumer,null,(function(t){return Object(c.jsx)("div",{className:Object(c.classNames)("row-layout",i,{"row-rtl":e.flipLeftRight}),css:j.a,"data-layoutid":r.id},Object(c.jsx)("div",{css:Object(c.css)(l||(l=w(["\n              width: 100%;\n              max-width: ",";\n            "],["\n              width: 100%;\n              max-width: ",";\n            "])),t.maxWidth>0?t.maxWidth+"px":"none")},Object(c.jsx)("div",{css:Object(c.css)(a||(a=w(["\n                  position: relative;\n                  height: 100%;\n                  margin-left: ","px;\n                  margin-right: ","px;\n                  display: flex;\n                  flex-direction: column;\n              "],["\n                  position: relative;\n                  height: 100%;\n                  margin-left: ","px;\n                  margin-right: ","px;\n                  display: flex;\n                  flex-direction: column;\n              "])),-d/2,-d/2)},f.length>0&&Object(c.jsx)(c.OneByOneAnimation,{className:Object(c.classNames)("row h-100 m-0",{"flex-nowrap":!e.props.isMultiRow}),css:Object(c.css)(s||(s=w(["\n                      position: relative;\n                      margin-left: ","px;\n                      margin-right: ","px;\n                      height: 100%;\n                      overflow: ",";\n                    "],["\n                      position: relative;\n                      margin-left: ","px;\n                      margin-right: ","px;\n                      height: 100%;\n                      overflow: ",";\n                    "])),-d/2,-d/2,e.props.isMultiRow?"auto":"unset")},f.map((function(t,n){return e.createItem(f,n,p)}))))))}))},n}(c.React.PureComponent),S=e(25),P=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),I=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},R=function(){return(R=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},_=function(t){function n(n){var e=t.call(this,n)||this;return e.onResize=function(t,n){var o;if(e.browserSizeMode===e.mainSizeMode&&(0!==t||0!==n)){var r=e.props.widgetId;null!=(null===(o=window.runtimeInfo.widgets)||void 0===o?void 0:o[r])?window.runtimeInfo.widgets[r].height=n:window.runtimeInfo.widgets[r]={height:n}}},e.handleDebounceResize=c.lodash.debounce(e.onResize,200),e}return P(n,t),n.prototype.findExtension=function(){var t,n=c.ExtensionManager.getInstance().getExtensions(""+c.extensionSpec.ExtensionPoints.LayoutTransformer);if((null==n?void 0:n.length)>0){var e=n.find((function(t){return"ROW"===t.layoutType}));this.layoutTransform=null===(t=e)||void 0===t?void 0:t.transformLayout}},n.prototype.collectRowItems=function(){var t,n=this.props,e=n.layout,o=n.layouts;null==this.layoutTransform&&this.findExtension();var r=e;o[this.browserSizeMode]!==e.id&&null!=this.layoutTransform&&(r=this.layoutTransform(e,this.mainSizeMode,this.browserSizeMode)),this.finalLayout=r;var i=null!==(t=r.order)&&void 0!==t?t:[],l=[],a=[],s=0;return l.push(a),i.forEach((function(t){var n=r.content[t].bbox,e=parseInt(n.left,10),o=Math.floor(e/S.b);o>s&&(a=[],s=o,l.push(a)),a.push(t)})),l},n.prototype.createRow=function(){var t=this.props,n=t.layout,e=t.config,o=t.layouts;return Object(c.jsx)(x,{layouts:o,layout:n,transformedLayout:this.finalLayout,config:e,theme:this.theme,isMultiRow:this.finalLayout!==n})},n.prototype.render=function(){var t,n=this,e=this.props,o=e.layout,r=e.className,i=null!==(t=e.config.style)&&void 0!==t?t:{},l=R({},d.styleUtils.toCSSStyle(i));return Object(c.jsx)(h.PageContext.Consumer,null,(function(t){return n.browserSizeMode=t.browserSizeMode,n.mainSizeMode=t.mainSizeMode,n.theme=t.theme,n.rows=n.collectRowItems(),Object(c.jsx)("div",{className:Object(c.classNames)("layout d-flex",r),css:Object(c.css)(u||(u=I(["\n          width: 100%;\n        "],["\n          width: 100%;\n        "]))),style:l,"data-layoutid":o.id},n.createRow(),Object(c.jsx)(c.ReactResizeDetector,{handleHeight:!0,onResize:n.handleDebounceResize}))}))},n}(c.React.PureComponent),M=c.ReactRedux.connect(h.utils.mapStateToLayoutProps)(_),z=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),L=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},C=function(){return(C=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},N=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]])}return e},T=e(419),B=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return z(n,t),n.prototype.render=function(){var t=this.props,n=t.layouts,e=t.id,o=t.intl,r=t.builderSupportModules,i=N(t,["layouts","id","intl","builderSupportModules"]),l=window.jimuConfig.isInBuilder?r.widgetModules.RowLayoutBuilder:M;if(null==l)return Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},"No layout component!");var a=Object.keys(n)[0];return Object(c.jsx)("div",{className:"widget-row-layout d-flex justify-content-center d-flex w-100",css:Object(c.css)(f||(f=L(["height: 100%;"],["height: 100%;"])))},Object(c.jsx)(l,C({layouts:n[a],widgetId:e,config:this.props.config},i),Object(c.jsx)(d.WidgetPlaceholder,{icon:T,widgetId:e,style:{border:"none",pointerEvents:"none"},message:o.formatMessage({id:"tips",defaultMessage:p})})))},n}(c.React.PureComponent);n.default=B},5:function(t,n){t.exports=o},51:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return l}));var o=e(0),r=e(1),i=Object(o.Immutable)({space:20,style:{padding:{number:[10],unit:r.UnitTypes.PIXEL}}}),l={heightMode:"fixed",aspectRatio:1,offsetX:0,offsetY:0,style:{alignSelf:"flex-start"}}},80:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return s}));var o,r=e(0),i=e(25),l=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},a=Object(r.css)(o||(o=l(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n\n  .offset-1 {\n    margin-left: 8.33333%;\n    margin-right: 0;\n  }\n  .offset-2 {\n    margin-left: 16.66667%;\n    margin-right: 0;\n  }\n  .offset-3 {\n    margin-left: 25%;\n    margin-right: 0;\n  }\n  .offset-4 {\n    margin-left: 33.33333%;\n    margin-right: 0;\n  }\n  .offset-5 {\n    margin-left: 41.66667%;\n    margin-right: 0;\n  }\n  .offset-6 {\n    margin-left: 50%;\n    margin-right: 0;\n  }\n  .offset-7 {\n    margin-left: 58.33333%;\n    margin-right: 0;\n  }\n  .offset-8 {\n    margin-left: 66.66667%;\n    margin-right: 0;\n  }\n  .offset-9 {\n    margin-left: 75%;\n    margin-right: 0;\n  }\n  .offset-10 {\n    margin-left: 83.33333%;\n    margin-right: 0;\n  }\n  .offset-11 {\n    margin-left: 91.66667%;\n    margin-right: 0;\n  }\n"],["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n\n  .offset-1 {\n    margin-left: 8.33333%;\n    margin-right: 0;\n  }\n  .offset-2 {\n    margin-left: 16.66667%;\n    margin-right: 0;\n  }\n  .offset-3 {\n    margin-left: 25%;\n    margin-right: 0;\n  }\n  .offset-4 {\n    margin-left: 33.33333%;\n    margin-right: 0;\n  }\n  .offset-5 {\n    margin-left: 41.66667%;\n    margin-right: 0;\n  }\n  .offset-6 {\n    margin-left: 50%;\n    margin-right: 0;\n  }\n  .offset-7 {\n    margin-left: 58.33333%;\n    margin-right: 0;\n  }\n  .offset-8 {\n    margin-left: 66.66667%;\n    margin-right: 0;\n  }\n  .offset-9 {\n    margin-left: 75%;\n    margin-right: 0;\n  }\n  .offset-10 {\n    margin-left: 83.33333%;\n    margin-right: 0;\n  }\n  .offset-11 {\n    margin-left: 91.66667%;\n    margin-right: 0;\n  }\n"])));function s(t){return Object(r.Immutable)(t).set("left",i.b-parseInt(t.left,10)-parseInt(t.width,10))}}}))}}}));