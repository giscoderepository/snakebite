System.register(["jimu-core","jimu-ui"],(function(t){var n,e;return{setters:[function(t){n=t},function(t){e=t}],execute:function(){t(function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=81)}([function(t,e){t.exports=n},,function(t,n){t.exports=e},,function(t,n,e){"use strict";var o,r;e.d(n,"i",(function(){return o})),e.d(n,"j",(function(){return r})),e.d(n,"b",(function(){return u})),e.d(n,"d",(function(){return l})),e.d(n,"c",(function(){return s})),e.d(n,"h",(function(){return c})),e.d(n,"a",(function(){return d})),e.d(n,"e",(function(){return p})),e.d(n,"g",(function(){return i})),e.d(n,"f",(function(){return a})),function(t){t[t.BringForward=0]="BringForward",t[t.SendBackward=1]="SendBackward",t[t.BringToFront=2]="BringToFront",t[t.SendToBack=3]="SendToBack"}(o||(o={})),function(t){t.Page="PAGE",t.Widget="WIDGET",t.View="VIEW",t.Screen="SCREEN"}(r||(r={}));var i,a,u=12,l=28,s=16,c=16,d=5,p=3;!function(t){t.Auto="auto",t[t.Normal=0]="Normal",t[t.BoundaryDropArea=10]="BoundaryDropArea",t[t.DragMoveTip=20]="DragMoveTip",t[t.HandlerTools=30]="HandlerTools",t[t.DraggingItem=40]="DraggingItem"}(i||(i={})),function(t){t.Auto="AUTO",t.Stretch="STRETCH",t.Custom="CUSTOM"}(a||(a={}))},function(t,n,e){"use strict";e.r(n),e.d(n,"emptyFunc",(function(){return a})),e.d(n,"autoBindHandlers",(function(){return u})),e.d(n,"getMaximumId",(function(){return l})),e.d(n,"isPercentage",(function(){return s})),e.d(n,"isNumber",(function(){return c})),e.d(n,"getValueOfBBox",(function(){return d})),e.d(n,"toRatio",(function(){return p})),e.d(n,"fromRatio",(function(){return f})),e.d(n,"mapStateToLayoutProps",(function(){return g})),e.d(n,"mapStateToLayoutItemProps",(function(){return v})),e.d(n,"mapStateToWidgetProps",(function(){return y})),e.d(n,"isWidgetHasEmbeddedLayout",(function(){return h})),e.d(n,"isFunctionalWidget",(function(){return b})),e.d(n,"isWidgetPlaceholder",(function(){return m})),e.d(n,"replaceBoundingBox",(function(){return w})),e.d(n,"updateBoundingBoxProp",(function(){return I})),e.d(n,"relativeClientRect",(function(){return O})),e.d(n,"getBuilderThemeVariables",(function(){return x})),e.d(n,"isRTL",(function(){return j})),e.d(n,"parseAspectRatio",(function(){return S})),e.d(n,"expandStyleArray",(function(){return P})),e.d(n,"calHeightOfLayoutItem",(function(){return C})),e.d(n,"getAppConfig",(function(){return T})),e.d(n,"getCurrentSizeMode",(function(){return R})),e.d(n,"getCurrentPageId",(function(){return k})),e.d(n,"getCurrentDialogId",(function(){return M})),e.d(n,"getActivePagePart",(function(){return L})),e.d(n,"getCurrentDialogRootLayoutId",(function(){return z})),e.d(n,"getCurrentPageRootLayoutId",(function(){return A})),e.d(n,"getHeaderRootLayoutId",(function(){return E})),e.d(n,"getFooterRootLayoutId",(function(){return _})),e.d(n,"contains",(function(){return B})),e.d(n,"intersects",(function(){return N})),e.d(n,"normalizeLinearUnit",(function(){return V})),e.d(n,"getLayoutItemSizeMode",(function(){return F})),e.d(n,"gcd",(function(){return W})),e.d(n,"handleOnebyOneAnimation",(function(){return H}));var o=e(0),r=e(2),i=e(4),a=function(){};function u(t,n){n.forEach((function(n){t[n]&&(t[n]=t[n].bind(t))}))}function l(t){var n=-1;return t.content&&Object.keys(t.content).forEach((function(t){var e=parseInt(t,10);e>n&&(n=e)})),n}function s(t){return/^-?\d*(\.\d+)?%$/.test(t)}function c(t){var n=parseFloat(t);return!isNaN(n)&&isFinite(n)}function d(t,n){return null==(null==t?void 0:t[n])?null:"string"==typeof t[n]?t[n]:c(t[n])?Math.round(parseFloat(t[n]))+"px":null}function p(t,n){return(100*t/n).toFixed(1)+"%"}function f(t,n){return parseFloat(""+t)*n/100}function g(t,n){var e,o,r=(null===(e=n.layouts)||void 0===e?void 0:e[t.browserSizeMode])||(null===(o=n.layouts)||void 0===o?void 0:o[t.appConfig.mainSizeMode]),i=t.appConfig.layouts;return i[r]?{layout:i[r]}:{layout:null}}function v(t,n){var e,r,i,a,u,l,s,c=n.layoutId,d=t.appConfig,p=d.layouts,f=d.widgets,g=n.layoutItemId;if(!(null===(r=null===(e=null==p?void 0:p[c])||void 0===e?void 0:e.content)||void 0===r?void 0:r[g]))return{layoutItem:null,selected:!1};var v,y=!1,h=p[c].content[g],b=!1;h&&(b=Boolean(h.isPending));var m=null===(i=t.appRuntimeInfo)||void 0===i?void 0:i.selection;m&&(y=m.layoutId===n.layoutId&&m.layoutItemId===h.id,v=m.autoScroll);var w=!1;if(h.type===o.LayoutItemType.Widget&&h.widgetId){var I=f[h.widgetId];w=null!==(l=null===(u=null===(a=null==I?void 0:I.manifest)||void 0===a?void 0:a.properties)||void 0===u?void 0:u.watchViewportVisibility)&&void 0!==l&&l}var O={selected:y,watchViewportVisibility:w,layoutItem:b?null:h};y&&(O.autoScroll=v);var x=null===(s=t.appRuntimeInfo)||void 0===s?void 0:s.animationPreview;if(y&&(null==x?void 0:x.layoutInfo)){var j=x.layoutInfo,S=j.layoutId,P=j.layoutItemId;O.animationPreview=S===n.layoutId&&P===n.layoutItemId,O.playMode=O.animationPreview?x.playMode:null,O.previewId=O.animationPreview?x.id:null}return O}function y(t,n){var e,o,r,i,a,u,l,s,c,d=n.layoutId,p=t.appConfig.layouts;if(!p[d])return null;var f,g,v,y=p[d],m=n.layoutItemId,w=y.content[m],I=!1,O=!1,x=!1,j=!1,S=!1,P=!1,C=!1,T=!1;if(w&&w.widgetId){var R=t.appConfig.widgets[w.widgetId];f=R.style,I=null===(o=null===(e=R.manifest)||void 0===e?void 0:e.properties)||void 0===o?void 0:o.supportInlineEditing,j=null===(i=null===(r=R.manifest)||void 0===r?void 0:r.properties)||void 0===i?void 0:i.supportRepeat,C=null===(u=null===(a=R.manifest)||void 0===a?void 0:a.properties)||void 0===u?void 0:u.canCrossLayoutBoundary;var k=t.widgetsRuntimeInfo[w.widgetId];O=null!==(l=null==k?void 0:k.isClassLoaded)&&void 0!==l&&l,x=I&&(null==k?void 0:k.isInlineEditing),(T=(null===(c=null===(s=R.manifest)||void 0===s?void 0:s.extensions)||void 0===c?void 0:c.length)>0)&&(g=R),v=t.widgetsState[w.widgetId],S=b(w.widgetId,t.appConfig),P=h(w.widgetId,t.appConfig)}return{hasEmbeddedLayout:P,supportInlineEditing:I,supportRepeat:j,isClassLoaded:O,isInlineEditing:x,widgetStyle:f,canCrossLayoutBoundary:C,hasExtension:T,widgetJson:g,widgetId:w.widgetId,isFunctionalWidget:S,widgetState:v}}function h(t,n){var e,o,r,i,a=null===(e=null==n?void 0:n.widgets)||void 0===e?void 0:e[t];return!!(null===(r=null===(o=null==a?void 0:a.manifest)||void 0===o?void 0:o.properties)||void 0===r?void 0:r.hasEmbeddedLayout)&&Object.keys(null!==(i=null==a?void 0:a.layouts)&&void 0!==i?i:{}).length>0}function b(t,n){var e,r,i=null===(e=null==n?void 0:n.widgets)||void 0===e?void 0:e[t];return(null===(r=null==i?void 0:i.manifest)||void 0===r?void 0:r.widgetType)!==o.WidgetType.Layout}function m(t,n){var e,r;if(!n||n.itemType!==o.LayoutItemType.Widget)return!1;if(n.layoutInfo){var i=n.layoutInfo,a=i.layoutId,u=i.layoutItemId,l=null===(r=null===(e=t.layouts)||void 0===e?void 0:e[a].content)||void 0===r?void 0:r[u];if(l&&!l.widgetId)return!0}return!n.layoutInfo&&!n.uri}function w(t,n,e){if(!t)return Object(o.Immutable)({left:s(n.left)?n.left:Math.round(n.left)+"px",right:s(n.right)?n.right:Math.round(n.right)+"px",top:s(n.top)?n.top:Math.round(n.top)+"px",bottom:s(n.bottom)?n.bottom:Math.round(n.bottom)+"px",width:s(n.width)?n.width:Math.round(n.width)+"px",height:s(n.height)?n.height:Math.round(n.height)+"px"});var r=t;return["left","right","top","bottom","width","height"].forEach((function(t){null!=r[t]?r=I(t,r,n[t],e):null!=n[t]&&(r=r.set(t,Math.round(n[t])+"px"))})),r}function I(t,n,e,o){if(null==n[t]||"auto"===n[t])return n;return s(n[t])?"left"===t||"right"===t||"width"===t?s(e)?n.set(t,e):n.set(t,(100*+e/o.width).toFixed(4)+"%"):s(e)?n.set(t,e):n.set(t,(100*+e/o.height).toFixed(4)+"%"):s(e)?"left"===t||"right"===t||"width"===t?n.set(t,Math.round(parseFloat(""+e)*o.width/100)):n.set(t,Math.round(parseFloat(""+e)*o.height/100)):isNaN(+e)?n.without(t):n.set(t,Math.round(+e)+"px")}function O(t,n){return{left:t.left-n.left,top:t.top-n.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height,id:null}}function x(){var t=window.parent;if(t&&t.jimuConfig&&t.jimuConfig.isBuilder)return t._appState.theme}function j(){var t,n;return null!==(n=null===(t=Object(o.getAppStore)().getState().appContext)||void 0===t?void 0:t.isRTL)&&void 0!==n&&n}function S(t){var n=100,e=100;if("number"==typeof t)n=100,e=Math.round(100*t);else if("string"==typeof t){var o=t.split(":");n=parseInt(o[0],10),e=parseInt(o[1],10)}return e/n}function P(t){return t&&0!==t.length?1===t.length?[t[0],t[0],t[0],t[0]]:2===t.length?[t[0],t[1],t[0],t[1]]:3===t.length?[t[0],t[1],t[2],0]:[t[0],t[1],t[2],t[3]]:[0,0,0,0]}function C(t,n){var e,o,r,a,u,l=null!==(e=n.setting)&&void 0!==e?e:{},c=F("height",n.bbox,l.autoProps);if(c!==i.f.Custom)return{height:c===i.f.Stretch?t:null,setting:{autoProps:{height:c}}};if("ratio"===l.heightMode)u={setting:{heightMode:"ratio",aspectRatio:null!==(o=l.aspectRatio)&&void 0!==o?o:1,autoProps:{height:i.f.Custom}}};else{var d=null!==(a=null===(r=n.bbox)||void 0===r?void 0:r.height)&&void 0!==a?a:t;s(d)&&(d=f(d,t)),u={height:d,setting:{heightMode:"fixed",autoProps:{height:i.f.Custom}}}}return u}function T(){var t;return window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appConfig:Object(o.getAppStore)().getState().appConfig}function R(){var t;return window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.browserSizeMode:Object(o.getAppStore)().getState().browserSizeMode}function k(){var t,n,e;return window.jimuConfig.isBuilder?null===(n=null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appRuntimeInfo)||void 0===n?void 0:n.currentPageId:null===(e=Object(o.getAppStore)().getState().appRuntimeInfo)||void 0===e?void 0:e.currentPageId}function M(){var t,n,e;return window.jimuConfig.isBuilder?null===(n=null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appRuntimeInfo)||void 0===n?void 0:n.currentDialogId:null===(e=Object(o.getAppStore)().getState().appRuntimeInfo)||void 0===e?void 0:e.currentDialogId}function L(){var t,n,e;return window.jimuConfig.isBuilder?null===(n=null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appRuntimeInfo)||void 0===n?void 0:n.activePagePart:null===(e=Object(o.getAppStore)().getState().appRuntimeInfo)||void 0===e?void 0:e.activePagePart}function z(){var t,n,e,r=window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appConfig:Object(o.getAppStore)().getState().appConfig,i=M(),a=R();return null===(e=null===(n=null==r?void 0:r.dialogs[i])||void 0===n?void 0:n.layout)||void 0===e?void 0:e[a]}function A(){var t,n,e,r=window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appConfig:Object(o.getAppStore)().getState().appConfig,i=k(),a=R();return null===(e=null===(n=null==r?void 0:r.pages[i])||void 0===n?void 0:n.layout)||void 0===e?void 0:e[a]}function E(){var t,n,e,r=window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appConfig:Object(o.getAppStore)().getState().appConfig,i=R();return null===(e=null===(n=null==r?void 0:r.header)||void 0===n?void 0:n.layout)||void 0===e?void 0:e[i]}function _(){var t,n,e,r=window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appConfig:Object(o.getAppStore)().getState().appConfig,i=R();return null===(e=null===(n=null==r?void 0:r.footer)||void 0===n?void 0:n.layout)||void 0===e?void 0:e[i]}function B(t,n){return n.left>=t.left&&n.left+n.width<=t.left+t.width&&n.top>=t.top&&n.top+n.height<=t.top+t.height}function N(t,n){return!(n.left>t.left+t.width||n.left+n.width<t.left||n.top>t.top+t.height||n.top+n.height<t.top)}function V(t){var n,e,i,a,u,l;if(null!=t&&"object"==typeof t)u=null!==(n=t.unit)&&void 0!==n?n:r.UnitTypes.PIXEL,l=null!==(e=t.distance)&&void 0!==e?e:0;else{var s=o.polished.getValueAndUnit(t);u=null!==(i=null==s?void 0:s[1])&&void 0!==i?i:r.UnitTypes.PIXEL,l=null!==(a=null==s?void 0:s[0])&&void 0!==a?a:0}return""+(l=u===r.UnitTypes.PERCENTAGE?Math.round(10*l)/10:Math.round(l))+u}function F(t,n,e){var o=null==e?void 0:e[t],r="width"===t?"left":"top",a="width"===t?"right":"bottom";if(!o)return null!=n[t]?i.f.Custom:null!=n[r]&&null!=n[a]?i.f.Stretch:i.f.Auto;if(!0===o)return null!=n[r]&&null!=n[a]?i.f.Stretch:i.f.Auto;switch(o){case i.f.Auto:return i.f.Auto;case i.f.Stretch:return i.f.Stretch;default:return i.f.Custom}}function W(t,n){for(var e=Math.max(t,n),o=Math.min(t,n);0!==o;){var r=o;o=e%o,e=r}return e}function H(t){return t.animationStyle?{isParentPlaying:t.isPlaying,isParentRevert:t.revert,isParentEnableScroll:t.enableScroll,parentAnimationStyle:t.animationStyle,parentPlayId:t.playId}:{}}},,function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"e",(function(){return i})),e.d(n,"b",(function(){return a})),e.d(n,"d",(function(){return u})),e.d(n,"c",(function(){return l}));var o=e(0),r=o.React.createContext({viewOnly:!0,mainSizeMode:o.BrowserSizeMode.Large,browserSizeMode:o.BrowserSizeMode.Large}),i=o.React.createContext(!0),a=o.React.createContext(!0),u=o.React.createContext({isInView:!1,isInCurrentView:!1}),l=o.React.createContext("")},function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"e",(function(){return u})),e.d(n,"d",(function(){return l})),e.d(n,"c",(function(){return s})),e.d(n,"k",(function(){return c})),e.d(n,"m",(function(){return d})),e.d(n,"n",(function(){return p})),e.d(n,"o",(function(){return f})),e.d(n,"i",(function(){return g})),e.d(n,"x",(function(){return v})),e.d(n,"v",(function(){return y})),e.d(n,"B",(function(){return h})),e.d(n,"j",(function(){return b})),e.d(n,"p",(function(){return m})),e.d(n,"s",(function(){return w})),e.d(n,"u",(function(){return I})),e.d(n,"r",(function(){return O})),e.d(n,"q",(function(){return x})),e.d(n,"a",(function(){return j})),e.d(n,"w",(function(){return S})),e.d(n,"y",(function(){return P})),e.d(n,"h",(function(){return C})),e.d(n,"l",(function(){return T})),e.d(n,"g",(function(){return R})),e.d(n,"f",(function(){return k})),e.d(n,"z",(function(){return M})),e.d(n,"A",(function(){return L})),e.d(n,"t",(function(){return A}));var o=e(0),r=e(18),i=e(4);function a(t,n){var e,o,r;if(!n)return null;var i=n.layoutId,a=n.layoutItemId;return null===(r=null===(o=null===(e=t.layouts)||void 0===e?void 0:e[i])||void 0===o?void 0:o.content)||void 0===r?void 0:r[a]}function u(t,n){if(t.sections)for(var e in t.sections){if(t.sections[e].views.includes(n))return e}return null}function l(t,n){for(var e=n.layouts[t];null!=(null==e?void 0:e.parent);){if(e.parentType===i.j.View){var o=e.parent;return{viewId:o,sectionId:n.views[o].parent}}var a=Object(r.b)(n,e.id);e=n.layouts[a]}return{viewId:null,sectionId:null}}function s(t,n){for(var e=n.layouts[t];null!=(null==e?void 0:e.parent);){if(e.parentType===i.j.Screen){var o=e.parent;return{screenId:o,screenGroupId:n.screens[o].parent}}var a=Object(r.b)(n,e.id);e=n.layouts[a]}return{screenId:null,screenGroupId:null}}function c(t){switch(t.type){case o.LayoutItemType.Widget:return"string"==typeof t.widgetId?t.widgetId:null;case o.LayoutItemType.Section:return"string"==typeof t.sectionId?t.sectionId:null;case o.LayoutItemType.ScreenGroup:return"string"==typeof t.screenGroupId?t.screenGroupId:null;default:return null}}function d(t,n,e){return void 0===e&&(e=!1),(null==t?void 0:t.content)?Object.keys(t.content).filter((function(o){return t.content[o].type===n&&!!c(t.content[o])&&(e||!t.content[o].isPending)})).map((function(n){return c(t.content[n])})):[]}function p(t,n,e,r,i){void 0===i&&(i=!1);var a=[],u=d(t.layouts[n],o.LayoutItemType.Widget,i),l=d(t.layouts[n],o.LayoutItemType.Section,i),s=d(t.layouts[n],o.LayoutItemType.ScreenGroup,i);return e===o.LayoutItemType.Widget?a=a.concat(u):e===o.LayoutItemType.Section?a=a.concat(l):e===o.LayoutItemType.ScreenGroup&&(a=a.concat(s)),u.filter((function(n){var e,r,i,a,u;return(null===(r=null===(e=t.widgets[n])||void 0===e?void 0:e.manifest)||void 0===r?void 0:r.widgetType)===o.WidgetType.Layout||(null===(u=null===(a=null===(i=t.widgets[n])||void 0===i?void 0:i.manifest)||void 0===a?void 0:a.properties)||void 0===u?void 0:u.hasEmbeddedLayout)})).forEach((function(n){var o;Object.keys(null!==(o=t.widgets[n].layouts)&&void 0!==o?o:{}).forEach((function(o){var u=t.widgets[n].layouts[o][r];a=a.concat(p(t,u,e,r,i))}))})),l.forEach((function(n){var o,u;null===(u=null===(o=t.sections)||void 0===o?void 0:o[n])||void 0===u||u.views.forEach((function(n){t.views[n]&&t.views[n].layout[r]&&(a=a.concat(p(t,t.views[n].layout[r],e,r,i)))}))})),s.forEach((function(n){var o,u;null===(u=null===(o=t.screenGroups)||void 0===o?void 0:o[n])||void 0===u||u.screens.forEach((function(n){var o,u,l,s,c,d,f;(null===(l=null===(u=null===(o=t.screens)||void 0===o?void 0:o[n])||void 0===u?void 0:u.main.layout)||void 0===l?void 0:l[r])&&(a=a.concat(p(t,t.screens[n].main.layout[r],e,r,i))),(null===(f=null===(d=null===(c=null===(s=t.screens)||void 0===s?void 0:s[n])||void 0===c?void 0:c.panel)||void 0===d?void 0:d.layout)||void 0===f?void 0:f[r])&&(a=a.concat(p(t,t.screens[n].panel.layout[r],e,r,i)))}))})),a}function f(t,n,e,r,i){void 0===i&&(i=!1);var a=[],u=d(t.layouts[n],o.LayoutItemType.Widget,i),l=d(t.layouts[n],o.LayoutItemType.Section,i),s=d(t.layouts[n],o.LayoutItemType.ScreenGroup,i);return a=e===o.LayoutItemType.Widget?a.concat(u):e===o.LayoutItemType.ScreenGroup?a.concat(s):a.concat(l),u.filter((function(n){return t.widgets&&t.widgets[n]&&t.widgets[n].manifest.widgetType===o.WidgetType.Layout})).forEach((function(n){Object.keys(t.widgets[n].layouts).forEach((function(o){var u=j(t.widgets[n].layouts[o],r,t.mainSizeMode);a=a.concat(f(t,u,e,r,i))}))})),a}function g(t,n,e){if(!(null==t?void 0:t.content))return null;var o=Object.keys(t.content).find((function(o){return t.content[o].type===e&&(t.content[o].widgetId===n||t.content[o].sectionId===n||t.content[o].screenGroupId===n)&&!t.content[o].isPending}));return t.content[o]}function v(t,n,e){void 0===e&&(e=!1);var o=t.layouts[n];return(null==o?void 0:o.content)?e?Object.keys(o.content):Object.keys(o.content).filter((function(t){return!o.content[t].isPending})):[]}function y(t,n,e){return void 0===e&&(e=!1),(null==t?void 0:t.content)?Object.keys(t.content).filter((function(o){return t.content[o].type===n&&!!c(t.content[o])&&(e||!t.content[o].isPending)})).map((function(n){return{layoutId:t.id,layoutItemId:n}})):[]}function h(t,n){return Object.keys(t.widgets).find((function(e){var o=t.widgets[e];if(o.layouts)return Object.keys(o.layouts).some((function(t){return void 0!==Object.keys(o.layouts[t]).find((function(e){return o.layouts[t][e]===n}))}))}))}function b(t,n,e,r){var i=t.pages&&Object.keys(t.pages).find((function(o){var i=j(t.pages[o].layout,r,t.mainSizeMode);return f(t,i,e,r).includes(n)}));if(i)return{type:o.ContainerType.Page,id:i};var a=t.dialogs&&Object.keys(t.dialogs).find((function(o){var i=j(t.dialogs[o].layout,r,t.mainSizeMode);return f(t,i,e,r).includes(n)}));if(a)return{type:o.ContainerType.Dialog,id:a};if(t.header){var u=j(t.header.layout,r,t.mainSizeMode);if(f(t,u,e,r).includes(n))return{type:o.ContainerType.Header,id:"header"}}if(t.footer){u=j(t.footer.layout,r,t.mainSizeMode);if(f(t,u,e,r).includes(n))return{type:o.ContainerType.Footer,id:"footer"}}var l=t.views&&Object.keys(t.views).find((function(o){var i=j(t.views[o].layout,r,t.mainSizeMode);return f(t,i,e,r).includes(n)}));if(l)return{type:o.ContainerType.View,id:l};if(t.screens){var s=Object.keys(t.screens).find((function(o){var i=j(t.screens[o].main.layout,r,t.mainSizeMode);return f(t,i,e,r).includes(n)}));if(s)return{type:o.ContainerType.ScreenMain,id:s};var c=Object.keys(t.screens).find((function(o){var i,a=j(null===(i=t.screens[o].panel)||void 0===i?void 0:i.layout,r,t.mainSizeMode);return f(t,a,e,r).includes(n)}));if(c)return{type:o.ContainerType.ScreenPanel,id:c}}}function m(t,n,e,o){return f(t,j(t.pages[n].layout,o,t.mainSizeMode),e,o)}function w(t,n,e,o){var r,i=f(t,j(t.screens[n].main.layout,o,t.mainSizeMode),e,o);if(t.screens[n].panel){var a=f(t,j(null===(r=t.screens[n].panel)||void 0===r?void 0:r.layout,o,t.mainSizeMode),e,o);return i.concat(a)}return i}function I(t,n,e,o){var r;return f(t,j(null===(r=t.views[n])||void 0===r?void 0:r.layout,o,t.mainSizeMode),e,o)}function O(t,n,e){return f(t,j(t.header.layout,e,t.mainSizeMode),n,e)}function x(t,n,e){return f(t,j(t.footer.layout,e,t.mainSizeMode),n,e)}function j(t,n,e){return t?t[n]||t[e]:null}function S(t,n,e,r){if(r){var i=P(t,e,n,r);if(i)return z(t,e,n,i,r);var a=b(t,e,n,r);if(!a)return[];var u=function(t,n,e){var r;return n.type===o.ContainerType.Footer?t.footer.layout[e]:n.type===o.ContainerType.Header?t.header.layout[e]:n.type===o.ContainerType.ScreenMain?t.screens[n.id].main.layout[e]:n.type===o.ContainerType.ScreenPanel?null===(r=t.screens[n.id].panel)||void 0===r?void 0:r.layout[e]:t[n.type][n.id].layout[e]}(t,a,r);return[{layoutId:u,layoutItemId:g(t.layouts[u],e,n).id}]}var l=[];return Object.keys(t.layouts).forEach((function(o){v(t,o,!0).forEach((function(r){var i=t.layouts[o].content[r];n!==i.type||i.widgetId!==e&&i.sectionId!==e&&i.screenGroupId!==e||l.push({layoutId:o,layoutItemId:r})}))})),l}function P(t,n,e,o){return Object.keys(t.widgets).find((function(r){var i=t.widgets[r];if(i.layouts)return Object.keys(i.layouts).some((function(r){var a=i.layouts[r][o],u=t.layouts[a];return u&&u.content&&void 0!==Object.keys(u.content).find((function(t){return u.content[t].type===e&&(u.content[t].widgetId===n||u.content[t].sectionId===n)}))}))}))}function C(t,n,e,o){var r=t.widgets[n];if(!r.layouts)return[];var i=[];return Object.keys(r.layouts).forEach((function(n){Object.keys(r.layouts[n]).forEach((function(a){var u=t.layouts[r.layouts[n][a]];i=i.concat(d(u,e,o))}))})),Array.from(new Set(i))}function T(t,n,e,o){var r=[],i=!1,a=function(t,n,e,a){var u,l=j(e,o,void 0),s=g(t.layouts[l],n,a);return s&&(u={layoutId:l,layoutItemId:s.id},r.push(u),i=!0),u};return t.pages&&Object.keys(t.pages).find((function(o){var r=t.pages[o];return!(!r.layout||!a(t,n,r.layout,e))})),i?r:(t.views&&Object.keys(t.views).find((function(o){var r=t.views[o];return!!a(t,n,r.layout,e)})),i?r:(t.dialogs&&Object.keys(t.dialogs).find((function(o){var r=t.dialogs[o];return!!a(t,n,r.layout,e)})),i?r:(t.header&&a(t,n,t.header.layout,e),i?r:(t.footer&&a(t,n,t.footer.layout,e),i||t.widgets&&Object.keys(t.widgets).find((function(o){var r=t.widgets[o];return r.layouts&&Object.keys(r.layouts).forEach((function(o){a(t,n,r.layouts[o],e)})),!!i})),r))))}function R(t,n,e){var o,r=t.widgets[e];if(r)return Object.keys(r.layouts).find((function(t){if(Object.keys(r.layouts[t]).find((function(e){if(r.layouts[t][e]===n)return o=e,!0})))return!0})),o}function k(t,n){var e,o,r=null,i=function(t){return t?Object.keys(t).find((function(e){return t[e]===n})):null};return Object.keys(t.widgets||{}).some((function(n){return Object.keys(t.widgets[n].layouts||{}).some((function(e){if(r)return!0;r=i(t.widgets[n].layouts[e])}))})),r||(Object.keys(t.views||{}).some((function(n){if(r)return!0;r=i(t.views[n].layout)})),r||(Object.keys(t.pages||{}).some((function(n){if(r)return!0;r=i(t.pages[n].layout)})),r||(Object.keys(t.dialogs||{}).some((function(n){if(r)return!0;r=i(t.dialogs[n].layout)})),r||(Object.keys(t.screens||{}).some((function(n){var e,o;return!!r||(!!(r=i(null===(e=t.screens[n].main)||void 0===e?void 0:e.layout))||void(r=i(null===(o=t.screens[n].panel)||void 0===o?void 0:o.layout)))})),r||((r=i(null===(e=t.header)||void 0===e?void 0:e.layout))?r:(r=i(null===(o=t.footer)||void 0===o?void 0:o.layout))||null)))))}function M(t,n,e,r){if(!t.widgets[e])return[];var i=t.layouts[n.layoutId]&&t.layouts[n.layoutId].content&&t.layouts[n.layoutId].content[n.layoutItemId];if(!i)return[];var a,u=i.type;return u===o.LayoutItemType.Section?a=i.sectionId:u===o.LayoutItemType.Widget&&(a=i.widgetId),a?z(t,a,u,e,r):function(t,n,e){var o=t.widgets[n];if(!o)return!1;var r=!1;return o.layouts&&Object.keys(o.layouts).forEach((function(n){r||Object.keys(o.layouts[n]).forEach((function(i){if(!r){var a=o.layouts[n][i];v(t,a,!0).forEach((function(t){r||e.layoutId===a&&e.layoutItemId===t&&(r=!0)}))}}))})),r}(t,e,n)?[n]:[]}function L(t,n,e,o){return M(t,n,e,o).map((function(n){return t.layouts[n.layoutId][n.layoutItemId]}))}function z(t,n,e,r,i){var a=t.widgets[r];if(!a||!n)return[];var u=[];return a.layouts&&Object.keys(a.layouts).forEach((function(r){var l=a.layouts[r][i],s=t.layouts[l];s&&s.content&&Object.keys(s.content).forEach((function(r){var a=s.content[r];if(a.type!==e||a.widgetId!==n&&a.sectionId!==n&&a.screenGroupId!==n){if(a.type===o.LayoutItemType.Widget){var l=t.widgets[a.widgetId];l&&l.manifest.widgetType===o.WidgetType.Layout&&u.push.apply(u,z(t,n,e,l.id,i))}}else u.push({layoutId:s.id,layoutItemId:a.id})}))})),u}function A(t,n,e,r,i){var a=b(t,n,e,i);if(!a)return[];switch(a.type){case o.ContainerType.Page:return m(t,a.id,r,i);case o.ContainerType.Header:return O(t,r,i);case o.ContainerType.Footer:return x(t,r,i);case o.ContainerType.View:return I(t,a.id,r,i);case o.ContainerType.Dialog:return function(t,n,e,o){return f(t,j(t.dialogs[n].layout,o,t.mainSizeMode),e,o)}(t,a.id,r,i);case o.ContainerType.ScreenMain:case o.ContainerType.ScreenPanel:return w(t,a.id,r,i)}}},function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"a",(function(){return i}));var o,r=e(0);!function(t){t.Horizontal="H",t.Vertical="V"}(o||(o={}));var i={showSplitter:!0,splitterSize:5,splitterColor:"#000"};r.React.createContext(i)},,function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"a",(function(){return r}));var o=.33,r=75},,function(t,n,e){"use strict";e.d(n,"f",(function(){return a})),e.d(n,"e",(function(){return u})),e.d(n,"c",(function(){return l})),e.d(n,"a",(function(){return s})),e.d(n,"d",(function(){return c})),e.d(n,"b",(function(){return d}));var o=e(5),r=e(0),i=e(4);function a(t,n,e,r){void 0===r&&(r=!1);var i={};i.left=t.left+e.dx,i.width=t.width+e.dw;var a=n.right-t.right;0===e.dw?i.right=a-e.dx:0===e.dx?i.right=a-e.dw:i.right=a,i.top=t.top+e.dy,i.height=t.height+e.dh;var u=n.bottom-t.bottom;return 0===e.dh?i.bottom=u-e.dy:0===e.dy?i.bottom=u-e.dh:i.bottom=u,r&&Object(o.isRTL)()?l(i):i}function u(t,n){var e,r,a,u,l,s={},c=null!==(e=null==n?void 0:n.autoProps)&&void 0!==e?e:{},d=t,p=Object(o.getLayoutItemSizeMode)("height",t,c),f=Object(o.getLayoutItemSizeMode)("width",t,c);if(p===i.f.Stretch)s.top=d.top,s.bottom=d.bottom;else{var g=null!==(r=c.top)&&void 0!==r&&r,v=null!==(a=c.bottom)&&void 0!==a&&a;p===i.f.Custom&&(s.height=d.height),g!==v&&!v||null==t.top?s.bottom=d.bottom:s.top=d.top,n.vCenter&&"50%"===d.top&&(s.top="50%")}if(f===i.f.Stretch)s.left=d.left,s.right=d.right;else{var y=null!==(u=c.left)&&void 0!==u&&u,h=null!==(l=c.right)&&void 0!==l&&l;f===i.f.Custom&&(s.width=d.width),y===h?null!=d.left?s.left=d.left:s.right=d.right:y&&null!=d.right?s.right=d.right:s.left=d.left,n.hCenter&&"50%"===d.left&&(s.left="50%")}return s}function l(t){var n=Object(r.Immutable)(t),e=t.left;return n.set("left",t.right).set("right",e)}function s(t,n,e){void 0===e&&(e=!1);var o={},r=n.hCenter&&"50%"===t.left,i=n.vCenter&&"50%"===t.top;return r&&i?(o.right="auto",o.bottom="auto",o.transform="translate(-50%, -50%)"):r?(o.right="auto",o.transform="translateX(-50%)"):i&&(o.bottom="auto",o.transform="translateY(-50%)"),!e&&c(t,n)&&(o.height="auto"),o}function c(t,n){return Object(o.getLayoutItemSizeMode)("width",t,n.autoProps)===i.f.Custom&&Object(o.getLayoutItemSizeMode)("height",t,n.autoProps)===i.f.Custom&&"ratio"===n.heightMode}function d(t,n,e,a){var u,l,s=t,c=Object(r.Immutable)(null!=n?n:{});return(null===(u=null==n?void 0:n.autoProps)||void 0===u?void 0:u.width)!==i.f.Stretch&&(c=a.left<a.right?Object(o.isRTL)()?c.setIn(["autoProps","right"],!1).setIn(["autoProps","left"],!0):c.setIn(["autoProps","left"],!1).setIn(["autoProps","right"],!0):Object(o.isRTL)()?c.setIn(["autoProps","left"],!1).setIn(["autoProps","right"],!0):c.setIn(["autoProps","right"],!1).setIn(["autoProps","left"],!0)),(null===(l=null==n?void 0:n.autoProps)||void 0===l?void 0:l.height)!==i.f.Stretch&&(c=a.top<a.bottom?c.setIn(["autoProps","top"],!1).setIn(["autoProps","bottom"],!0):c.setIn(["autoProps","top"],!0).setIn(["autoProps","bottom"],!1)),["left","right","top","bottom","width","height"].forEach((function(n){var r="left"===n||"right"===n||"width"===n?e.width:e.height,i=Object(o.isPercentage)(t[n]);Object(o.isRTL)()&&("left"===n?i=Object(o.isPercentage)(t.right):"right"===n&&(i=Object(o.isPercentage)(t.left))),s=null==t[n]||i?s.set(n,Object(o.toRatio)(a[n],r)):s.set(n,Math.round(a[n])+"px")})),{bbox:s,setting:c}}},function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return i}));var o=e(2),r={gutter:0,style:{padding:{number:[0],unit:"px"},justifyContent:"flex-start",alignItems:"stretch",borderRadius:{number:[0],unit:o.UnitTypes.PIXEL}}},i={lockParent:!0,heightMode:"auto",offsetX:0,offsetY:0}},function(t,n,e){"use strict";n.a={previousView:"Previous view",nextView:"Next view",originTL:"Top left as origin",originTR:"Top right as origin",originBL:"Bottom left as origin",originBR:"Bottom right as origin",alignLeft:"Align left",alignRight:"Align right",alignTop:"Align top",alignCenter:"Align center",alignHCenter:"Horizontal center",alignVCenter:"Vertical center",alignBottom:"Align bottom",alignStretch:"Align stretch",sendBackward:"Send backward",bringForward:"Bring forward",sendToBack:"Send to back",bringToFront:"Bring to front",zoomoutFixed:"Zoom out fixed",order:"Order",moveToLeft:"Move to left",moveToRight:"Move to right",moveToTop:"Move to top",moveToBottom:"Move to bottom",addView:"Add view",duplicateScreen:"Duplicate screen",deleteScreen:"Delete screen",applyToFirstPanel:"Apply to the first panel",deleteView:"Delete view",duplicateView:"Duplicate view",insertABlock:"Insert block",insertAScreenGroup:"Insert screen group",moveup:"Move up",movedown:"Move down",chooseTemplate:"Choose a {type} template",chooseHeaderTemplate:"Choose a header template",chooseFooterTemplate:"Choose a footer template",dropWidgetToAdd:"Or drag a widget here",snapToLeft:"Snap to left",snapToTop:"Snap to top",snapToBottom:"Snap to bottom",snapToRight:"Snap to right",fullWidth:"Full width",fullHeight:"Full height",fullSize:"Full size",restoreSize:"Restore size",pendingTip:"Move to the pending list",setting:"Settings",dragToMove:"Drag to move",lockLayout:"Lock position and size",unlockLayout:"Unlock position and size",editHeader:"Edit header",editFooter:"Edit footer",transform:"Transform",rotation:"Rotation",angle:"Angle",floating:"Pin",sinking:"Unpin",floatingArea:"Floating area",changeToAuto:"Change to auto",changeToCustom:"Change to custom",positionType:"Position type",sticky:"Sticky",fixed:"Fixed",flow:"Flow",stack:"Stack",fixedAtTop:"Floating at the top when scrolling",actNormal:"Act as normal widget",hideInDesignView:"Hide in design view",showInDesignView:"Show in design view"}},function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return i}));var o=e(0),r=o.lodash.assign({},{gridSize:1}),i=o.lodash.assign({},{order:0},{lockParent:!1,lockLayout:!1,autoProps:{}})},function(t,n,e){"use strict";e.d(n,"c",(function(){return s})),e.d(n,"b",(function(){return c})),e.d(n,"a",(function(){return d}));var o,r=e(0),i=e(2),a=e(5),u=e(8),l=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};function s(t,n){var e,o,a,l,s=!0,c=!1,d=n.layoutItem,p=null===(e=t.appRuntimeInfo)||void 0===e?void 0:e.selection;if(p&&(c=p.layoutId===n.layoutId&&p.layoutItemId===d.id),d.type===r.LayoutItemType.Widget){var f=d.widgetId,g=t.appConfig.widgets[f],v=[0,0,0,0];if(g){v=i.styleUtils.expandStyleArray(null===(l=null===(a=null===(o=g.config)||void 0===o?void 0:o.style)||void 0===a?void 0:a.padding)||void 0===l?void 0:l.number);var y=Object.keys(g.layouts)[0],h=Object(u.a)(g.layouts[y],t.browserSizeMode,t.appConfig.mainSizeMode),b=t.appConfig.layouts[h];b&&Object.keys(b.content||[]).length>0&&Object.keys(b.content||[]).some((function(t){if(!b.content[t].isPending)return s=!1,!0}))}return{isEmpty:s,selected:c,padding:v[0]+v[2]}}return{selected:c,isEmpty:!1,padding:0}}function c(t){var n=parseFloat(null==t?void 0:t.width);return n>0?(""+t.width).includes("px")?Math.round(n)+"px":Math.round(n)+"%":"100%"}function d(t,n){var e,i,u;void 0===n&&(n={});var s=t.setting,c=null!==(e=null==s?void 0:s.floatingArea)&&void 0!==e?e:1,d=(null!==(i=null==s?void 0:s.offsetX)&&void 0!==i?i:0)+"px",p=(null!==(u=null==s?void 0:s.offsetY)&&void 0!==u?u:0)+"px",f=n.dh,g=n.dw,v=n.initWidth,y=n.initHeight,h=n.isResizing,b=Object(a.isRTL)()?"translateX(calc(50% + "+d+"))":"translateX(calc(-50% + "+d+"))",m={};switch(c){case 1:m.left=d,m.top=p,m.transform=null;break;case 2:m.left="50%",m.top=p,m.transform=b;break;case 3:m.right=d,m.top=p,m.transform=null;break;case 4:m.left=d,m.top="50%",m.transform="translateY(calc(-50% + "+p+"))";break;case 5:m.left="50%",m.top="50%",m.transform=b+" translateY(calc(-50% + "+p+"))";break;case 6:m.right=d,m.top="50%",m.transform="translateY(calc(-50% + "+p+"))";break;case 7:m.left=d,m.bottom=p,m.transform=null;break;case 8:m.left="50%",m.bottom=p,m.transform=b;break;case 9:m.right=d,m.bottom=p,m.transform=null}return Object(r.css)(o||(o=l(["\n    position: fixed;\n    z-index: 1;\n    width: ",";\n    height: ",";\n    left: ",";\n    right: ",";\n    top: ",";\n    bottom: ",";\n    transform: ",";\n  "],["\n    position: fixed;\n    z-index: 1;\n    width: ",";\n    height: ",";\n    left: ",";\n    right: ",";\n    top: ",";\n    bottom: ",";\n    transform: ",";\n  "])),h?v+g+"px":Object(a.getValueOfBBox)(t.bbox,"width"),h?y+f+"px":Object(a.getValueOfBBox)(t.bbox,"height"),m.left,m.right,m.top,m.bottom,m.transform)}},function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return a})),e.d(n,"c",(function(){return u}));var o=e(0),r=e(4);function i(t,n){var e=t.layouts[n];if(null!=e)switch(e.parentType){case r.j.Widget:return t.widgets[e.parent].parent;case r.j.View:var o=t.views[e.parent].parent;return t.sections[o].parent;case r.j.Screen:var i=t.screens[e.parent].parent;return t.screenGroups[i].parent}return null}function a(t,n,e,i,u,l){var s,c=null!=l?l:Object(o.Immutable)({}),d=t.layouts[n];return null!=d&&(c=c.setIn(["layouts",n],{id:n,parent:e,parentType:i}),Object.keys(null!==(s=d.content)&&void 0!==s?s:{}).forEach((function(e){var i=d.content[e];switch(i.type){case o.LayoutItemType.Widget:c=function(t,n,e,o,i){var u=i,l=t.widgets[e];null!=l&&(u=u.setIn(["widgets",e],{id:e,parent:o}),null!=l.layouts&&Object.keys(l.layouts).forEach((function(o){var i=l.layouts[o][n];u=a(t,i,e,r.j.Widget,n,u)})));return u}(t,u,i.widgetId,n,c);break;case o.LayoutItemType.Section:c=function(t,n,e,o,i){var u=i,l=t.sections[e];null!=l&&(u=u.setIn(["sections",e],{id:e,parent:o}),l.views.forEach((function(o){u=u.setIn(["views",o],{id:o,parent:e});var i=t.views[o].layout[n];u=a(t,i,o,r.j.View,n,u)})));return u}(t,u,i.sectionId,n,c);break;case o.LayoutItemType.ScreenGroup:c=function(t,n,e,o,i){var u=i,l=t.screenGroups[e];null!=l&&(u=u.setIn(["screenGroups",e],{id:e,parent:o}),l.screens.forEach((function(o){var i;u=u.setIn(["screens",o],{id:o,parent:e});var l=t.screens[o],s=l.main.layout[n];if(u=a(t,s,o,r.j.Screen,n,u),null!=(null===(i=l.panel)||void 0===i?void 0:i.layout)){var c=l.panel.layout[n];u=a(t,c,o,r.j.Screen,n,u)}})));return u}(t,u,i.screenGroupId,n,c)}}))),c}function u(t,n,e,u){var l,s,c=t.layoutId,d=a(n,e,"",r.j.Page,u),p=d.layouts[c];if(p.parentType===r.j.Widget)s=p.parent;else if(p.parentType===r.j.View){var f=p.parent;s=d.views[f].parent}else if(p.parentType===r.j.Screen){var g=p.parent;s=d.screens[g].parent}var v=i(d,c);if(null!=v){var y=n.layouts[v];return{layoutId:v,layoutItemId:Object.keys(null!==(l=y.content)&&void 0!==l?l:{}).find((function(t){var n=y.content[t];return n.type===o.LayoutItemType.Widget&&n.widgetId===s||n.type===o.LayoutItemType.Section&&n.sectionId===s||n.type===o.LayoutItemType.ScreenGroup&&n.screenGroupId===s}))}}return null}},function(t,n,e){"use strict";e.d(n,"b",(function(){return c})),e.d(n,"a",(function(){return d}));var o,r,i=e(0),a=e(2),u=e(20),l=e(11),s=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};function c(t,n,e,u,c,d,p,f,g){var v=t.panel||{},y=v.side,h=v.size,b=v.offset,m=v.background,w=v.overlay,I=void 0===w||w,O=v.padding,x=Object(i.getAppStore)().getState().appContext.isRTL?"left"===y?"-":"":"right"===y?"-":"",j=a.styleUtils.toBackgroundEmotionStyle(null!=m?m:{}),S=parseFloat(c);if(g){var P=!I;return Object(i.css)(o||(o=s(["\n      width: 100%;\n      background: transparent;\n      pointer-events: none;\n      position: relative;\n      opacity: ",";\n      min-height: ",";\n      padding-top: ",";\n\n      &.top-spacing > .panel-content {\n        /* margin-top: ","px; */\n      }\n\n      .panel-content {\n        width: 100%;\n        ",";\n        /* margin-top: ","; */\n\n        > .layout, > .layout-wrapper > .layout {\n          pointer-events: all;\n          ",";\n          min-height: ","px;\n          padding: ",";\n        }\n\n        > .layout-wrapper > .column-layout > .trail-container,\n        > .column-layout > .trail-container {\n          overflow-y: hidden;\n        }\n\n        > .layout-wrapper > .placeholder-btn {\n          pointer-events: all;\n          ",";\n        }\n\n        .panel-spacing {\n          height: ","px;\n        }\n      }\n\n      .panel-content-placeholder {\n        width: 1px;\n        min-height: ","px;\n      }\n\n      body:not(.design-mode) & {\n        min-height: ",";\n        min-height: ",";\n        padding-top: ",";\n        padding-top: ",";\n\n        > .layout, > .layout-wrapper > .layout {\n          min-height: ","vh;\n          min-height: calc(var(--vh) * ",");\n        }\n\n        .panel-content-placeholder {\n          min-height: 100vh;\n          min-height: calc(var(--vh) * 100);\n        }\n\n        .panel-spacing {\n          height: ","vh;\n          height: calc(var(--vh) * ",");\n        }\n      }\n    "],["\n      width: 100%;\n      background: transparent;\n      pointer-events: none;\n      position: relative;\n      opacity: ",";\n      min-height: ",";\n      padding-top: ",";\n\n      &.top-spacing > .panel-content {\n        /* margin-top: ","px; */\n      }\n\n      .panel-content {\n        width: 100%;\n        ",";\n        /* margin-top: ","; */\n\n        > .layout, > .layout-wrapper > .layout {\n          pointer-events: all;\n          ",";\n          min-height: ","px;\n          padding: ",";\n        }\n\n        > .layout-wrapper > .column-layout > .trail-container,\n        > .column-layout > .trail-container {\n          overflow-y: hidden;\n        }\n\n        > .layout-wrapper > .placeholder-btn {\n          pointer-events: all;\n          ",";\n        }\n\n        .panel-spacing {\n          height: ","px;\n        }\n      }\n\n      .panel-content-placeholder {\n        width: 1px;\n        min-height: ","px;\n      }\n\n      body:not(.design-mode) & {\n        min-height: ",";\n        min-height: ",";\n        padding-top: ",";\n        padding-top: ",";\n\n        > .layout, > .layout-wrapper > .layout {\n          min-height: ","vh;\n          min-height: calc(var(--vh) * ",");\n        }\n\n        .panel-content-placeholder {\n          min-height: 100vh;\n          min-height: calc(var(--vh) * 100);\n        }\n\n        .panel-spacing {\n          height: ","vh;\n          height: calc(var(--vh) * ",");\n        }\n      }\n    "])),p===i.ScreenTransitionType.Fade?u?"1":"0.5":null,f===i.ScreenTransitionType.Cover?n+"px":null,f!==i.ScreenTransitionType.Fade&&P?Math.round(n*l.b)+"px":null,Math.round(n*l.b),I?"":j,p===i.ScreenTransitionType.Push?"${Math.round(viewHeight * SCREEN_RATIO_IN_SMALL_SIZE)}px":"unset",I?j:"",Math.round(.25*n),a.styleUtils.toCSSPadding(O),I?j:"",Math.round(n*S/100),n,f===i.ScreenTransitionType.Cover?"100vh":null,f===i.ScreenTransitionType.Cover?"calc(var(--vh) * 100)":null,f!==i.ScreenTransitionType.Fade&&P?100*l.b+"vh":null,f!==i.ScreenTransitionType.Fade&&P?"calc(var(--vh) * "+100*l.b+")":null,Math.round(25),Math.round(25),S,S)}return Object(i.css)(r||(r=s(["\n    width: 100%;\n    background: transparent;\n    pointer-events: none;\n    display: flex;\n    flex-direction: ",";\n    justify-content: ",";\n    position: relative;\n    opacity: ",";\n\n    &.top-spacing > .panel-content {\n      /* margin-top: ","px; */\n    }\n\n    .panel-content {\n      width: ",";\n      transform: ",";\n      flex: 0 auto;\n      min-height: ",";\n      ",";\n\n      > .layout,\n      > .layout-wrapper > .layout {\n        pointer-events: all;\n        ",";\n        min-height: ","px;\n        padding: ",";\n      }\n\n      > .layout-wrapper > .column-layout > .trail-container,\n      > .column-layout > .trail-container {\n        overflow-y: hidden;\n      }\n\n      > .layout-wrapper > .placeholder-btn {\n        pointer-events: all;\n        ",";\n      }\n\n      .panel-spacing {\n        height: ","px;\n\n        &.last-item {\n          height: ","px;\n        }\n      }\n    }\n\n    .panel-content-placeholder {\n      width: 1px;\n      min-height: ","px;\n    }\n\n    body:not(.design-mode) & {\n      &.top-spacing > .panel-content {\n        /* margin-top: ","vh; */\n      }\n\n      .panel-content {\n        min-height: ",";\n        min-height: ",";\n        > .layout, > .layout-wrapper > .layout {\n          min-height: unset;\n        }\n\n        .panel-spacing {\n          height: ","vh;\n          height: calc(var(--vh) * ",");\n\n          &.last-item {\n            height: ","vh;\n            height: calc(var(--vh) * ",");\n          }\n        }\n      }\n      .panel-content-placeholder {\n        min-height: ","vh;\n        min-height: calc(var(--vh) * ",");\n      }\n    }\n  "],["\n    width: 100%;\n    background: transparent;\n    pointer-events: none;\n    display: flex;\n    flex-direction: ",";\n    justify-content: ",";\n    position: relative;\n    opacity: ",";\n\n    &.top-spacing > .panel-content {\n      /* margin-top: ","px; */\n    }\n\n    .panel-content {\n      width: ",";\n      transform: ",";\n      flex: 0 auto;\n      min-height: ",";\n      ",";\n\n      > .layout,\n      > .layout-wrapper > .layout {\n        pointer-events: all;\n        ",";\n        min-height: ","px;\n        padding: ",";\n      }\n\n      > .layout-wrapper > .column-layout > .trail-container,\n      > .column-layout > .trail-container {\n        overflow-y: hidden;\n      }\n\n      > .layout-wrapper > .placeholder-btn {\n        pointer-events: all;\n        ",";\n      }\n\n      .panel-spacing {\n        height: ","px;\n\n        &.last-item {\n          height: ","px;\n        }\n      }\n    }\n\n    .panel-content-placeholder {\n      width: 1px;\n      min-height: ","px;\n    }\n\n    body:not(.design-mode) & {\n      &.top-spacing > .panel-content {\n        /* margin-top: ","vh; */\n      }\n\n      .panel-content {\n        min-height: ",";\n        min-height: ",";\n        > .layout, > .layout-wrapper > .layout {\n          min-height: unset;\n        }\n\n        .panel-spacing {\n          height: ","vh;\n          height: calc(var(--vh) * ",");\n\n          &.last-item {\n            height: ","vh;\n            height: calc(var(--vh) * ",");\n          }\n        }\n      }\n      .panel-content-placeholder {\n        min-height: ","vh;\n        min-height: calc(var(--vh) * ",");\n      }\n    }\n  "])),"right"===y?"row-reverse":"row","center"===y&&I?"center":"flex-start",p===i.ScreenTransitionType.Fade?u?"1":"0.5":null,Math.round(2*n/3),h,I&&Math.abs(parseFloat(b))>0?"translateX("+x+b+")":null,d?n+"px":"unset",I?"":j,I?j:"",Math.round(.25*n),a.styleUtils.toCSSPadding(O),I?j:"",Math.round(n*S/100),d?""+Math.round(n*S/100):n,d?n:Math.round(.25*n),66.7,d?e>0?"calc(100vh - "+e+"px)":"100vh":"unset",d?e>0?"calc(var(--vh) * 100 - "+e+"px)":"calc(var(--vh) * 100)":"unset",S,S,d?S:100,d?S:100,d?"100":Math.round(25),d?"100":Math.round(25))}function d(t){var n,e=t.index,o=t.screenId,r=t.onInterctionChange,a=t.onHeightChange,l=t.viewHeight,s=t.headerHeight,d=t.layoutEntry,p=t.isActive,f=t.isSmallSize,g=t.transitionType,v=t.screenTransitionType,y=t.triggerType,h=t.stretched,b=t.verticalSpace,m=void 0===b?"0":b,w=i.ReactRedux.useSelector((function(t){return t.appConfig.screens[o]})),I=w.panel,O=i.React.useRef(),x=i.React.useState(!1),j=(x[0],x[1]),S=i.React.useRef(),P=i.React.useCallback((function(t){r(e,t)}),[e,r]);i.React.useEffect((function(){return S.current=i.lodash.debounce(a,200),function(){var t;null===(t=S.current)||void 0===t||t.cancel()}}),[a]);var C=i.React.useCallback((function(t,n){var o;null===(o=S.current)||void 0===o||o.call(S,e,n)}),[e]);return Object(u.a)(O.current,t.refElement,f?i.ScreenTriggerType.Lower:null!=y?y:i.ScreenTriggerType.Bottom,P),i.React.useEffect((function(){j(!0)}),[]),Object(i.jsx)("div",{className:Object(i.classNames)("screen-side-panel",{"top-spacing":0===e&&((null===(n=w.panel)||void 0===n?void 0:n.overlay)||f)}),"data-screenid":o,"data-index":e,ref:O,css:c(w,l,s,p,m,h,g,v,f)},I&&Object(i.jsx)("div",{className:"panel-content"},Object(i.jsx)(d,{layouts:I.layout}),Object(i.jsx)("div",{className:Object(i.classNames)("panel-spacing",{"last-item":t.isLast})})),!I&&Object(i.jsx)("div",{className:"panel-content-placeholder"}),Object(i.jsx)(i.ReactResizeDetector,{handleHeight:!0,onResize:C}))}},function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var o=e(0);function r(){for(var t=[0],n=1;n<=100;n++)t.push(n/100);return t}function i(t){switch(t){case o.ScreenTriggerType.Top:return"0% 0% -98% 0%";case o.ScreenTriggerType.Bottom:return"-98% 0% -2px 0%";case o.ScreenTriggerType.Upper:return"-"+(100/3-1)+"% 0% -"+(200/3-1)+"% 0%";case o.ScreenTriggerType.Lower:return"-"+(200/3-1)+"% 0% -"+(100/3-1)+"% 0%";default:return}}function a(t,n,e,a){var u=o.React.useRef(),l=o.React.useRef();o.React.useEffect((function(){u.current&&(u.current.unobserve(t),u.current=null);if(t&&"function"==typeof IntersectionObserver){var o=new IntersectionObserver((function(t){!function(t){var n=t.boundingClientRect,e=t.rootBounds,o=Math.abs(n.bottom-e.top)>=Math.abs(n.top-e.top);if(t.isIntersecting){if(l.current=!0,o)a(!0)}else if(l.current&&(l.current=!1,o))a(!1)}(t[0])}),{threshold:r(),root:n||document.body,rootMargin:i(e)});return o.observe(t),u.current=o,function(){u.current.unobserve(t),u.current=null}}}),[t,n,a,e])}},function(t,n,e){"use strict";e.d(n,"b",(function(){return a.a})),e.d(n,"a",(function(){return O}));var o,r,i,a=e(19),u=e(0),l=e(2),s=e(7),c=e(11),d=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},p=e(36);function f(t){var n=t.viewHeight,e=t.headerHeight,a=t.screenId,f=t.isActive,g=t.isAbsolute,v=t.isLast,y=t.isSmallSize,h=t.layoutEntry,b=t.isDesignMode,m=t.formatMessage,w=t.builderTheme,I=u.ReactRedux.useSelector((function(t){return t.appConfig.screens[a]})),O=u.ReactRedux.useSelector((function(t){var n,e,o;return null===(o=null===(e=null===(n=t.appRuntimeInfo)||void 0===n?void 0:n.screenPanelStates)||void 0===e?void 0:e[a])||void 0===o||o})),x=I.main,j=I.panel||{},S=j.side,P=j.size,C=j.overlay,T=void 0===C||C,R=u.React.useRef(),k=u.React.useCallback((function(){Object(u.getAppStore)().dispatch(u.appActions.screenPanelVisibleChanged(a,!0))}),[a]);var M=Object(u.classNames)("screen-main-panel",{"is-active":f,"last-one":v});return Object(u.jsx)(s.b.Provider,{value:!g||f},Object(u.jsx)("div",{className:M,css:function(){var t,a,s,p;if(y){var f=!T&&null!=I.panel,v=f?Math.round(n*c.b)+"px":n+"px",h=f?""+Math.round(100*c.b):"100";return Object(u.css)(o||(o=d(["\n        pointer-events: all;\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        height: ","px;\n\n        > .layout {\n          ",";\n          height: "," !important;\n          border: none !important;\n        }\n\n        body:not(.design-mode) & {\n          height: ",";\n          height: ",";\n          > .layout {\n            height: ","vh !important;\n            height: calc(var(--vh) * ",") !important;\n          }\n        }\n\n        .spacing-area {\n          flex: 1;\n          background: transparent;\n          pointer-events: none;\n        }\n\n        .toggle-visible-btn {\n          position: absolute;\n          bottom: 0;\n          right: left;\n        }\n      "],["\n        pointer-events: all;\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        height: ","px;\n\n        > .layout {\n          ",";\n          height: "," !important;\n          border: none !important;\n        }\n\n        body:not(.design-mode) & {\n          height: ",";\n          height: ",";\n          > .layout {\n            height: ","vh !important;\n            height: calc(var(--vh) * ",") !important;\n          }\n        }\n\n        .spacing-area {\n          flex: 1;\n          background: transparent;\n          pointer-events: none;\n        }\n\n        .toggle-visible-btn {\n          position: absolute;\n          bottom: 0;\n          right: left;\n        }\n      "])),n,l.styleUtils.toBackgroundEmotionStyle(null!==(a=null===(t=I.main)||void 0===t?void 0:t.background)&&void 0!==a?a:{}),v,e>0?"calc(100vh - "+e+"px)":"100vh",e>0?"calc(var(--vh) * 100 - "+e+"px)":"calc(var(--vh) * 100)",h,h)}var b="0px",m="0px";"none"!==S&&(T||"right"===S||(b=P),T||"right"!==S||(m=P));var O=w?Object(u.css)(r||(r=d(["\n      color: ",";\n      background-color: ",";\n      border-color: ",";\n      &:hover {\n        color: ",";\n        background-color: ",";\n      }\n    "],["\n      color: ",";\n      background-color: ",";\n      border-color: ",";\n      &:hover {\n        color: ",";\n        background-color: ",";\n      }\n    "])),w.colors.palette.dark[900],w.colors.palette.light[400],w.colors.palette.light[600],w.colors.black,w.colors.palette.light[600]):null;return Object(u.css)(i||(i=d(["\n      ",";\n      left: ",";\n      right: ",";\n      margin-left: ",";\n      margin-right: ",";\n      pointer-events: all;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n\n      > .layout {\n        height: ","px !important;\n        background: transparent;\n        border: none !important;\n      }\n\n      body:not(.design-mode) & {\n        > .layout {\n          height: "," !important;\n          height: "," !important;\n        }\n      }\n\n      .spacing-area {\n        flex: 1;\n        background: transparent;\n        pointer-events: none;\n      }\n\n      .toggle-visible-btn {\n        position: absolute;\n        bottom: 0;\n        right: 0;\n\n        > button {\n          ",";\n          svg {\n            margin-right: 0;\n            margin-left: 0;\n          }\n        }\n      }\n    "],["\n      ",";\n      left: ",";\n      right: ",";\n      margin-left: ",";\n      margin-right: ",";\n      pointer-events: all;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n\n      > .layout {\n        height: ","px !important;\n        background: transparent;\n        border: none !important;\n      }\n\n      body:not(.design-mode) & {\n        > .layout {\n          height: "," !important;\n          height: "," !important;\n        }\n      }\n\n      .spacing-area {\n        flex: 1;\n        background: transparent;\n        pointer-events: none;\n      }\n\n      .toggle-visible-btn {\n        position: absolute;\n        bottom: 0;\n        right: 0;\n\n        > button {\n          ",";\n          svg {\n            margin-right: 0;\n            margin-left: 0;\n          }\n        }\n      }\n    "])),l.styleUtils.toBackgroundEmotionStyle(null!==(p=null===(s=I.main)||void 0===s?void 0:s.background)&&void 0!==p?p:{}),g?b:null,g?m:null,g?null:b,g?null:m,n,e>0?"calc(100vh - "+e+"px)":"100vh",e>0?"calc(var(--vh) * 100 - "+e+"px)":"calc(var(--vh) * 100)",O)}(),ref:R,"data-screenid":a,"data-index":t.index},Object(u.jsx)(h,{layouts:x.layout,isInWidget:!0}),Object(u.jsx)("div",{className:"spacing-area"}),b&&!O&&Object(u.jsx)("div",{className:"toggle-visible-btn",onClick:k,"data-testid":"toggleBtn"},Object(u.jsx)(l.Tooltip,{placement:"auto",title:m("showInDesignView")},Object(u.jsx)(l.Button,{type:"default",size:"sm",className:"rounded"},Object(u.jsx)(l.Icon,{icon:p,size:16}))))))}var g,v,y,h,b,m=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};function w(t,n,e,o,r){return t===u.ScreenTransitionType.Fade?Object(u.css)(g||(g=m(["\n      position: sticky;\n      height: ","px;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: ",";\n        height: ",";\n        top: ",";\n        .layout .exb-drop-area {\n          pointer-events: none !important;\n        }\n      }\n\n      .screen-main-panel {\n        position: absolute;\n        opacity: 0;\n        visibility: hidden;\n        z-index: 0;\n        transition: ",";\n        top: 0;\n        /* height: ","; */\n\n        .layout .exb-drop-area {\n          pointer-events: none;\n        }\n\n        &.is-active {\n          opacity: 1;\n          visibility: visible;\n          pointer-events: all;\n          z-index: 1;\n\n          .layout .exb-drop-area {\n            pointer-events: all;\n          }\n        }\n      }\n    "],["\n      position: sticky;\n      height: ","px;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: ",";\n        height: ",";\n        top: ",";\n        .layout .exb-drop-area {\n          pointer-events: none !important;\n        }\n      }\n\n      .screen-main-panel {\n        position: absolute;\n        opacity: 0;\n        visibility: hidden;\n        z-index: 0;\n        transition: ",";\n        top: 0;\n        /* height: ","; */\n\n        .layout .exb-drop-area {\n          pointer-events: none;\n        }\n\n        &.is-active {\n          opacity: 1;\n          visibility: visible;\n          pointer-events: all;\n          z-index: 1;\n\n          .layout .exb-drop-area {\n            pointer-events: all;\n          }\n        }\n      }\n    "])),n,e>0?"calc(100vh - "+e+"px)":"100vh",e>0?"calc(var(--vh) * 100 - "+e+"px)":"calc(var(--vh) * 100)",e>0?e+"px":0,o?null:"opacity 400ms",o?"unset":"100% !important"):t===u.ScreenTransitionType.Cover?Object(u.css)(v||(v=m(["\n      position: sticky;\n      height: ","px;\n      overflow: hidden;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: 100%;\n        overflow: unset;\n        position: relative;\n\n        .screen-main-panel {\n          top: ",";\n        }\n      }\n\n      & > div:first-of-type {\n        margin-top: 0 !important;\n      }\n\n      .screen-main-panel {\n        position: sticky;\n        top: 0;\n        margin-top: ",";\n\n        .spacing-area {\n          display: none;\n        }\n      }\n    "],["\n      position: sticky;\n      height: ","px;\n      overflow: hidden;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: 100%;\n        overflow: unset;\n        position: relative;\n\n        .screen-main-panel {\n          top: ",";\n        }\n      }\n\n      & > div:first-of-type {\n        margin-top: 0 !important;\n      }\n\n      .screen-main-panel {\n        position: sticky;\n        top: 0;\n        margin-top: ",";\n\n        .spacing-area {\n          display: none;\n        }\n      }\n    "])),n,e>0?e+"px":0,1===r?"0 !important":null):t===u.ScreenTransitionType.Push?Object(u.css)(y||(y=m(["\n      position: sticky;\n      height: ","px;\n      overflow: hidden;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: auto;\n        overflow: unset;\n\n        .screen-main-panel > .layout {\n          top: ",";\n        }\n      }\n\n      .screen-main-panel > .layout {\n        position: sticky !important;\n        top: 0;\n      }\n    "],["\n      position: sticky;\n      height: ","px;\n      overflow: hidden;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: auto;\n        overflow: unset;\n\n        .screen-main-panel > .layout {\n          top: ",";\n        }\n      }\n\n      .screen-main-panel > .layout {\n        position: sticky !important;\n        top: 0;\n      }\n    "])),n,e>0?e+"px":0):void 0}function I(t,n,e){return t===u.ScreenTransitionType.Fade?Object(u.css)(h||(h=m(["\n      height: calc(100% - ","px);\n      background: transparent;\n      pointer-events: none;\n\n      body:not(.design-mode) & {\n        height: calc(100% - 100vh);\n        height: calc(100% - var(--vh) * 100);\n      }\n    "],["\n      height: calc(100% - ","px);\n      background: transparent;\n      pointer-events: none;\n\n      body:not(.design-mode) & {\n        height: calc(100% - 100vh);\n        height: calc(100% - var(--vh) * 100);\n      }\n    "])),n):t===u.ScreenTransitionType.Cover||t===u.ScreenTransitionType.Push?Object(u.css)(b||(b=m(["\n      height: calc(100% - ","px);\n      background: transparent;\n      pointer-events: none;\n      display: block;\n\n      body:not(.design-mode) & {\n        height: calc(100% - 100vh);\n        height: calc(100% - var(--vh) * 100);\n        display: none;\n      }\n    "],["\n      height: calc(100% - ","px);\n      background: transparent;\n      pointer-events: none;\n      display: block;\n\n      body:not(.design-mode) & {\n        height: calc(100% - 100vh);\n        height: calc(100% - var(--vh) * 100);\n        display: none;\n      }\n    "])),n):void 0}function O(t){var n=t.activeIndex,e=t.viewHeight,o=t.headerHeight,r=t.screens,i=t.transitionType,a=t.isSmallSize,l=t.layoutEntry,s=t.isDesignMode,c=t.formatMessage,d=t.builderTheme;return Object(u.jsx)(u.React.Fragment,null,Object(u.jsx)("div",{className:"screen-container",css:w(i,e,o,a,r.length)},r.map((function(t,p){return Object(u.jsx)(f,{key:t,index:p,isActive:n===p,screenId:t,viewHeight:e,headerHeight:o,isAbsolute:i===u.ScreenTransitionType.Fade,isLast:p===r.length-1,isSmallSize:a,layoutEntry:l,isDesignMode:s,formatMessage:c,builderTheme:d})}))),Object(u.jsx)("div",{className:"screen-placeholder",css:I(i,e)}))}},function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e(0);function r(){for(var t=[0],n=1;n<=10;n++)t.push(n/10);return t}function i(t,n){var e=o.React.useRef(),i=o.React.useState(!0),a=i[0],u=i[1];return o.React.useEffect((function(){if(e.current&&(e.current.unobserve(t),e.current=null),n){if(t&&"function"==typeof IntersectionObserver){var o=new IntersectionObserver((function(t){var n;(n=t[0]).target.classList.contains("playing-animation")||n.boundingClientRect.width>0&&n.boundingClientRect.height>0&&u(n.isIntersecting)}),{threshold:r(),root:document.body,rootMargin:"20%"});return o.observe(t),e.current=o,function(){e.current.unobserve(t),e.current=null}}}}),[t,n]),a}},function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var o={min:16,space:10}},function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e(0),r=function(){function t(){this.id="flow-layout-transformer",this.layoutType=o.LayoutType.FlowLayout}return t.prototype.transformLayout=function(t,n,e){if(n!==e&&e===o.BrowserSizeMode.Small){var r=Object(o.Immutable)(t);return(t.order||[]).forEach((function(t){r=r.setIn(["content",t,"setting","heightMode"],"auto")})),r}return t},t.prototype.transformLayoutItem=function(t,n,e,o,r,i){return{index:n,item:t}},t}()},function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e(0);function r(t,n,e){for(var r=t.querySelectorAll("div.screen-main-panel"),i=n.querySelectorAll("div.screen-side-panel"),a=r.length,u=1;u<a;u++){var l=r.item(u),s=r.item(u-1),c=i.item(u-1);l.style.marginTop=c.clientHeight-s.clientHeight+"px"}e!==o.BrowserSizeMode.Small&&(t.style.height=n.clientHeight+"px")}},function(t,n,e){"use strict";e.d(n,"a",(function(){return I}));var o=e(0),r=e(4),i=e(2);function a(t,n){if(!t)return null;var e={};t.backgroundIMage&&(e="string"==typeof t.backgroundIMage?{}:t.backgroundIMage);var o=t.backgroundPosition?i.FillType[t.backgroundPosition.toUpperCase()]:i.FillType.FILL,r={color:null==t.backgroundColor?n:""===t.backgroundColor?"transparent":t.backgroundColor?t.backgroundColor:"",fillType:o,image:e};return i.styleUtils.toBackgroundStyle(r)}function u(t){var n=t.viewId,e=t.isActive,r=t.layoutEntryComponent,i=t.viewVisibilityContext,u=o.ReactRedux.useSelector((function(t){var e,o;return null===(o=null===(e=t.appConfig)||void 0===e?void 0:e.views)||void 0===o?void 0:o[n]})),l=o.ReactRedux.useSelector((function(t){var n,e;return null===(e=null===(n=t.theme)||void 0===n?void 0:n.body)||void 0===e?void 0:e.bg})),s=r,c=i,d=o.React.useMemo((function(){return{isInView:!0,isInCurrentView:e}}),[e]);return Object(o.jsx)("div",{className:"w-100 h-100 d-flex section-view",style:a(u,l),key:n},Object(o.jsx)(o.ErrorBoundary,null,Object(o.jsx)(c.Provider,{value:d},Object(o.jsx)(s,{layouts:null==u?void 0:u.layout,isInSection:!0,className:"w-100"}))))}function l(t){var n,e,r=t.views,i=t.navInfo,a=t.animationPreview,l=t.playMode,s=t.currentIndex,c=t.previousIndex,d=t.progress,p=t.loop,f=t.viewTransition,g=a&&l===o.AnimationPlayMode.OneByOne,v=o.React.useContext(o.AnimationContext),y=v.setting,h=v.playId,b=v.onAnimationEnd,m=v.depth,w=o.ReactRedux.useSelector((function(t){var n;return!y||y.type===o.AnimationType.None||(null===(n=t.appRuntimeInfo)||void 0===n?void 0:n.appMode)===o.AppMode.Design})),I=!w||g||(null==i?void 0:i.playId)&&(null==i?void 0:i.withOneByOne)?y:null,O=o.React.useMemo((function(){return{trigger:o.AnimationTriggerType.Manual,setting:I,playId:!w||g?h:null,inheritedOneByOneSetting:null,depth:m+1,onAnimationEnd:b}}),[w,I,g,h,m,b]);return Object(o.jsx)(o.AnimationContext.Provider,{value:O},Object(o.jsx)("div",{className:"section-content"},Object(o.jsx)(o.TransitionContainer,{useProgress:null!==(n=null==i?void 0:i.useProgress)&&void 0!==n&&n,useStep:null!==(e=null==i?void 0:i.useStep)&&void 0!==e&&e,previousIndex:c,currentIndex:s,progress:d,transitionType:null==f?void 0:f.type,direction:null==f?void 0:f.direction,playId:null==i?void 0:i.playId,withOneByOne:null==i?void 0:i.withOneByOne,loop:p},r.map((function(n){var e=n===r[s];return Object(o.jsx)(u,{key:n,viewId:n,isActive:e,layoutEntryComponent:t.layoutEntryComponent,viewVisibilityContext:t.viewVisibilityContext})})))))}var s,c,d=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},p=e(33),f=e(34);function g(t){var n,e,r,a=t.sectionId,u=t.currentIndex,l=t.numOfViews,g=t.onCurrentViewChange,v=o.ReactRedux.useSelector((function(t){var n;return null===(n=t.appConfig.sections[a])||void 0===n?void 0:n.arrowsNav})),y=o.ReactRedux.useSelector((function(t){var n;return null===(n=t.appConfig.sections[a])||void 0===n?void 0:n.dotsNav})),h=null!==(n=null==y?void 0:y.position)&&void 0!==n?n:"b",b=o.React.useMemo((function(){for(var t=[],n=0;n<l;n++)t.push(n);return t}),[l]),m=function(){var t,n,e,r;return Object(o.css)(s||(s=d(["\n      position: absolute;\n      cursor: pointer;\n\n      &.disabled {\n        cursor: default;\n        svg {\n          color: var(--light-400);\n        }\n      }\n\n      &.first {\n        left: ","px;\n        top: 50%;\n        transform: translateY(-50%);\n\n        &.vertical {\n          top: ","px;\n          left: 50%;\n          transform: translateX(-50%) rotate(90deg);\n        }\n      }\n      &.second {\n        right: ","px;\n        top: 50%;\n        transform: translateY(-50%);\n\n        &.vertical {\n          bottom: ","px;\n          left: 50%;\n          top: auto;\n          right: auto;\n          transform: translateX(-50%) rotate(90deg);\n        }\n      }\n    "],["\n      position: absolute;\n      cursor: pointer;\n\n      &.disabled {\n        cursor: default;\n        svg {\n          color: var(--light-400);\n        }\n      }\n\n      &.first {\n        left: ","px;\n        top: 50%;\n        transform: translateY(-50%);\n\n        &.vertical {\n          top: ","px;\n          left: 50%;\n          transform: translateX(-50%) rotate(90deg);\n        }\n      }\n      &.second {\n        right: ","px;\n        top: 50%;\n        transform: translateY(-50%);\n\n        &.vertical {\n          bottom: ","px;\n          left: 50%;\n          top: auto;\n          right: auto;\n          transform: translateX(-50%) rotate(90deg);\n        }\n      }\n    "])),null!==(t=v.offset)&&void 0!==t?t:0,null!==(n=v.offset)&&void 0!==n?n:0,null!==(e=v.offset)&&void 0!==e?e:0,null!==(r=v.offset)&&void 0!==r?r:0)},w=o.React.useCallback((function(t,n){return Object(o.jsx)("div",{key:t,className:Object(o.classNames)("dot rounded-circle",{active:n,disabled:l<=1}),onClick:n?void 0:function(){return g(t)}})}),[g,l]),I=o.React.useCallback((function(){g(u>0?u-1:l-1)}),[u,l,g]),O=o.React.useCallback((function(){g(u<l-1?u+1:0)}),[u,l,g]),x=l>1&&0!==u,j=l>1&&u!==l-1;return Object(o.jsx)(o.React.Fragment,null,(null==v?void 0:v.visible)&&Object(o.jsx)(o.React.Fragment,null,Object(o.jsx)("div",{className:Object(o.classNames)("arrows-nav first",{vertical:"v"===v.direction,disabled:!x}),css:m(),onClick:x?I:null},Object(o.jsx)(i.Icon,{icon:p,autoFlip:"v"!==v.direction,size:null!==(e=v.size)&&void 0!==e?e:12})),Object(o.jsx)("div",{className:Object(o.classNames)("arrows-nav second",{vertical:"v"===v.direction,disabled:!j}),css:m(),onClick:j?O:null},Object(o.jsx)(i.Icon,{icon:f,autoFlip:"v"!==v.direction,size:null!==(r=v.size)&&void 0!==r?r:12}))),(null==y?void 0:y.visible)&&Object(o.jsx)("div",{className:Object(o.classNames)("dots-nav",{"snap-left":"l"===h,"snap-top":"t"===h,"snap-right":"r"===h,"snap-bottom":"b"===h}),css:function(){var t,n,e,r,i,a,u,l,s,p,f,g,v,b;return Object(o.css)(c||(c=d(["\n      position: absolute;\n      display: flex;\n      flex-direction: ",";\n      justify-content: center;\n      align-items: center;\n      overflow: visible;\n      pointer-events: none;\n      background: transparent;\n\n      .dot {\n        pointer-events: all;\n        cursor: pointer;\n        border: 1px solid var(--light-500);\n        background: var(--light-100);\n        width: ","px;\n        height: ","px;\n\n        &.active {\n          border-color: var(--white);\n          background: var(--primary-500);\n          width: ","px;\n          height: ","px;\n        }\n\n        &.disabled {\n          cursor: default;\n        }\n      }\n\n      &.snap-left {\n        height: 100%;\n        top: 0;\n        left: ","px;\n        width: ","px;\n\n        > div:not(:first-child) /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */ {\n          margin-top: ","px;\n        }\n      }\n      &.snap-right {\n        height: 100%;\n        top: 0;\n        right: ","px;\n        width: ","px;\n\n        > div:not(:first-child) /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */ {\n          margin-top: ","px;\n        }\n      }\n      &.snap-top {\n        width: 100%;\n        top: ","px;\n        height: ","px;\n\n        > div:not(:first-child) /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */ {\n          margin-left: ","px;\n        }\n      }\n      &.snap-bottom {\n        width: 100%;\n        bottom: ","px;\n        height: ","px;\n\n        > div:not(:first-child) /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */ {\n          margin-left: ","px;\n        }\n      }\n    "],["\n      position: absolute;\n      display: flex;\n      flex-direction: ",";\n      justify-content: center;\n      align-items: center;\n      overflow: visible;\n      pointer-events: none;\n      background: transparent;\n\n      .dot {\n        pointer-events: all;\n        cursor: pointer;\n        border: 1px solid var(--light-500);\n        background: var(--light-100);\n        width: ","px;\n        height: ","px;\n\n        &.active {\n          border-color: var(--white);\n          background: var(--primary-500);\n          width: ","px;\n          height: ","px;\n        }\n\n        &.disabled {\n          cursor: default;\n        }\n      }\n\n      &.snap-left {\n        height: 100%;\n        top: 0;\n        left: ","px;\n        width: ","px;\n\n        > div:not(:first-child) /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */ {\n          margin-top: ","px;\n        }\n      }\n      &.snap-right {\n        height: 100%;\n        top: 0;\n        right: ","px;\n        width: ","px;\n\n        > div:not(:first-child) /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */ {\n          margin-top: ","px;\n        }\n      }\n      &.snap-top {\n        width: 100%;\n        top: ","px;\n        height: ","px;\n\n        > div:not(:first-child) /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */ {\n          margin-left: ","px;\n        }\n      }\n      &.snap-bottom {\n        width: 100%;\n        bottom: ","px;\n        height: ","px;\n\n        > div:not(:first-child) /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */ {\n          margin-left: ","px;\n        }\n      }\n    "])),"l"===h||"r"===h?"column":"row",null!==(t=y.size)&&void 0!==t?t:8,null!==(n=y.size)&&void 0!==n?n:8,y.size>0?1.5*y.size:12,y.size>0?1.5*y.size:12,null!==(e=y.offset)&&void 0!==e?e:50,null!==(r=y.size)&&void 0!==r?r:8,null!==(i=y.spacing)&&void 0!==i?i:10,null!==(a=y.offset)&&void 0!==a?a:50,null!==(u=y.size)&&void 0!==u?u:8,null!==(l=y.spacing)&&void 0!==l?l:10,null!==(s=y.offset)&&void 0!==s?s:50,null!==(p=y.size)&&void 0!==p?p:8,null!==(f=y.spacing)&&void 0!==f?f:10,null!==(g=y.offset)&&void 0!==g?g:50,null!==(v=y.size)&&void 0!==v?v:8,null!==(b=y.spacing)&&void 0!==b?b:10)}()},b.map((function(t){return w(t,t===u)}))))}function v(t){var n=t.sectionId,e=t.autoPlay,i=t.interval,a=void 0===i?r.e:i,u=t.loop,l=void 0!==u&&u,s=o.React.useRef(),c=o.ReactRedux.useSelector((function(t){var n;return e?(null===(n=t.appRuntimeInfo)||void 0===n?void 0:n.appMode)===o.AppMode.Design:null})),d=o.React.useRef(c),p=o.React.useCallback((function(){s.current&&(clearInterval(s.current),s.current=null)}),[]),f=o.React.useCallback((function(){p(),s.current=setInterval((function(){(function(t,n){var e,r,i=Object(o.getAppStore)().getState(),a=i.appConfig.sections[t].views,u=null===(r=null===(e=i.appRuntimeInfo)||void 0===e?void 0:e.sectionNavInfos)||void 0===r?void 0:r[t],l=(null==u?void 0:u.currentViewId)?a.indexOf(u.currentViewId):0,s=l<a.length-1?l+1:0;return!(!n&&0===s)&&(o.jimuHistory.changeView(t,a[s]),!0)})(n,l)||p()}),1e3*a)}),[n,l,a,p]);o.React.useEffect((function(){if(!d.current){if(!e)return void p();f()}return function(){p()}}),[e,a,l,p,f]),o.React.useEffect((function(){if(d.current!==c&&null!==c){if(d.current=c,c)return void p();e&&f()}}),[c,f,p,e])}var y,h=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},b=function(){return(b=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},m=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]])}return e};function w(t){return Object(o.css)(y||(y=h(["\n    overflow: visible;\n    position: relative;\n\n    .section-content {\n      position: relative;\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n    }\n\n    .section-view {\n      position: absolute;\n    }\n\n    &.aspect-ratio-wrapper {\n      padding-top: ","%;\n    }\n    &.aspect-ratio-wrapper > .section-content {\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n    }\n\n    .hidden {\n      display: none !important;\n    }\n  "],["\n    overflow: visible;\n    position: relative;\n\n    .section-content {\n      position: relative;\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n    }\n\n    .section-view {\n      position: absolute;\n    }\n\n    &.aspect-ratio-wrapper {\n      padding-top: ","%;\n    }\n    &.aspect-ratio-wrapper > .section-content {\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n    }\n\n    .hidden {\n      display: none !important;\n    }\n  "])),100*(t||0))}function I(t){var n=t.views,e=t.navInfo,a=t.activeView,u=t.animationPreview,s=t.playMode,c=t.transition,d=t.sectionId,p=t.autoPlay,f=t.interval,y=void 0===f?r.e:f,h=t.loop,I=void 0===h||h,O=t.className,x=t.sectionStyle,j=t.forceAspectRatio,S=t.aspectRatio,P=t.rotate,C=t.layoutEntryComponent,T=t.viewVisibilityContext,R=o.React.useRef(),k=o.React.useState(!1),M=k[0],L=k[1],z=null==a?void 0:a.id,A=o.React.useMemo((function(){var t,r,i,a,u=n;e?(u=null!==(t=e.visibleViews)&&void 0!==t?t:n,e.useProgress?(a=e.progress,r=Object(o.getIndexFromProgress)(a,u.length).currentIndex):(r=Math.max(0,u.indexOf(e.currentViewId)),i=e.previousViewId?Math.max(0,u.indexOf(e.previousViewId)):Math.max(0,r-1))):i=r=Math.max(0,u.indexOf(z));return R.current=r,{currentIndex:r,previousIndex:i,progress:a}}),[z,e,n]),E=o.React.useMemo((function(){return i.styleUtils.toCSSStyle(x)}),[x]),_=E.transform,B=m(E,["transform"]),N=P>0||P<0?"rotateZ("+P+"deg)":"",V=N;_&&(V=_+" "+N);var F=o.React.useCallback((function(){L(!0)}),[]),W=o.React.useCallback((function(){L(!1)}),[]),H=p&&!M;v({sectionId:d,interval:y,loop:I,autoPlay:H});var D=o.React.useCallback((function(t){o.jimuHistory.changeView(d,n[t])}),[d,n]);return Object(o.jsx)("div",{className:Object(o.classNames)("section-layout w-100",O,{"aspect-ratio-wrapper":j&&S>0}),css:w(S),"data-sectionid":d,style:b(b({},B),{transform:V}),onMouseEnter:p?F:null,onMouseLeave:p?W:null},Object(o.jsx)(l,{views:n,navInfo:e,animationPreview:u,playMode:s,currentIndex:A.currentIndex,previousIndex:A.previousIndex,progress:A.progress,loop:H&&I,viewTransition:c,layoutEntryComponent:C,viewVisibilityContext:T}),Object(o.jsx)(g,{sectionId:d,numOfViews:n.length,currentIndex:A.currentIndex,onCurrentViewChange:D}))}},,,,,,,function(t,n){t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.305 7.294L10.693.215a.79.79 0 011.083 0c.299.287.299.751 0 1.038L4.736 8l7.04 6.747c.299.287.299.751 0 1.038a.79.79 0 01-1.083 0l-7.388-7.08a.968.968 0 010-1.41z" fill="#000"></path><path d="M0 0h16v16H0z"></path></g></svg>'},function(t,n){t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M12.695 7.294L5.307.215a.79.79 0 00-1.083 0c-.299.287-.299.751 0 1.038L11.264 8l-7.04 6.747c-.299.287-.299.751 0 1.038a.79.79 0 001.083 0l7.388-7.08a.968.968 0 000-1.41z" fill="#000"></path><path d="M0 0h16v16H0z"></path></g></svg>'},,function(t,n){t.exports='<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M6 5.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm0 1a2.5 2.5 0 110-5 2.5 2.5 0 010 5zM6 1c-2.124 0-3.714.967-4.867 3C2.286 6.033 3.876 7 6 7s3.714-.967 4.867-3C9.714 1.967 8.124 1 6 1zm0 7C3.333 8 1.333 6.667 0 4c1.333-2.667 3.333-4 6-4s4.667 1.333 6 4c-1.333 2.667-3.333 4-6 4z"></path></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,e){"use strict";e.r(n),e.d(n,"registerLayoutBuilder",(function(){return _})),e.d(n,"registerLayoutViewer",(function(){return B})),e.d(n,"findLayoutBuilder",(function(){return N})),e.d(n,"findLayoutViewer",(function(){return V})),e.d(n,"LayoutEntry",(function(){return D})),e.d(n,"PageRenderer",(function(){return Tn})),e.d(n,"FixedLayoutViewer",(function(){return yt})),e.d(n,"ColumnLayoutViewer",(function(){return St})),e.d(n,"WidgetRenderer",(function(){return z})),e.d(n,"SectionRenderer",(function(){return J})),e.d(n,"LayoutItem",(function(){return tt})),e.d(n,"PageContext",(function(){return s.a})),e.d(n,"PageVisibilityContext",(function(){return s.b})),e.d(n,"ViewVisibilityContext",(function(){return s.d})),e.d(n,"ViewportVisibilityContext",(function(){return s.e})),e.d(n,"LayoutContext",(function(){return c})),e.d(n,"defaultMessages",(function(){return i.a})),e.d(n,"utils",(function(){return p})),e.d(n,"searchUtils",(function(){return o})),e.d(n,"OrderAdjustType",(function(){return g.i})),e.d(n,"ParentType",(function(){return g.j})),e.d(n,"COLS_IN_ONE_ROW",(function(){return g.b})),e.d(n,"CONTEXT_MENU_ITEM_SIZE",(function(){return g.d})),e.d(n,"CONTEXT_MENU_ICON_SIZE",(function(){return g.c})),e.d(n,"MIN_LAYOUT_ITEM_SIZE",(function(){return g.h})),e.d(n,"CLICK_TOLRERANCE",(function(){return g.a})),e.d(n,"DEFAULT_AUTOPLAY_INTERVAL",(function(){return g.e})),e.d(n,"LayoutZIndex",(function(){return g.g})),e.d(n,"LayoutItemSizeModes",(function(){return g.f})),e.d(n,"init",(function(){return Mn}));var o={};e.r(o),e.d(o,"findParentLayoutItem",(function(){return v.c})),e.d(o,"buildLayoutStructure",(function(){return v.a})),e.d(o,"findLayoutId",(function(){return y.a})),e.d(o,"findLayoutItem",(function(){return y.b})),e.d(o,"findSectionId",(function(){return y.e})),e.d(o,"findParentViewId",(function(){return y.d})),e.d(o,"findParentScreenId",(function(){return y.c})),e.d(o,"getContentIdInLayoutItem",(function(){return y.k})),e.d(o,"getContentsInLayout",(function(){return y.m})),e.d(o,"getContentsInLayoutRecursive",(function(){return y.n})),e.d(o,"getContainerLayoutItem",(function(){return y.i})),e.d(o,"getLayoutItemIds",(function(){return y.x})),e.d(o,"getLayoutInfosByType",(function(){return y.v})),e.d(o,"getWidgetIdThatUseTheLayoutId",(function(){return y.B})),e.d(o,"getContentContainerInfo",(function(){return y.j})),e.d(o,"getRelatedLayoutItemsInWidgetByLayoutInfo",(function(){return y.A})),e.d(o,"getRelatedLayoutInfosInWidgetByLayoutInfo",(function(){return y.z})),e.d(o,"getLayoutInfosHoldcontent",(function(){return y.w})),e.d(o,"getBrowserSizeModeByLayoutIdAndWidgetId",(function(){return y.g})),e.d(o,"getBrowserSizeModeByLayoutId",(function(){return y.f})),e.d(o,"getChildrenContents",(function(){return y.h})),e.d(o,"getContentLayoutInfosInOneSizeMode",(function(){return y.l})),e.d(o,"getContentsInView",(function(){return y.u})),e.d(o,"getContentsInPageHeader",(function(){return y.r})),e.d(o,"getContentsInPageFooter",(function(){return y.q})),e.d(o,"getContentsInPageBody",(function(){return y.p})),e.d(o,"getContentsInScreen",(function(){return y.s})),e.d(o,"getContentsInLayoutWithLayoutWidgetOnly",(function(){return y.o})),e.d(o,"getContentsInTheSameContainer",(function(){return y.t})),e.d(o,"getParentWidgetIdOfContent",(function(){return y.y})),e.d(o,"getSectionInfo",(function(){return h})),e.d(o,"getPendingLayoutItemsInPage",(function(){return b})),e.d(o,"getPendingLayoutItemsInDialog",(function(){return w})),e.d(o,"getPendingLayoutItemsInLayoutWithDeep",(function(){return O})),e.d(o,"getPendingLayoutItemsFromOtherSizeMode",(function(){return x})),e.d(o,"getPendingLayoutItemsFromOtherSizeModeInPage",(function(){return m})),e.d(o,"getPendingLayoutItemsFromOtherSizeModeInDialog",(function(){return I}));var r=e(0),i=e(15),a=function(t,n,e,o){return new(e||(e=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function u(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,u)}l((o=o.apply(t,n||[])).next())}))},u=function(t,n){var e,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],o=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function l(){return a(this,void 0,Promise,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Object(r.getAppStore)().getState().appContext.locale,(t=r.i18n.getLocaleToLoad(t,r.translatedLocales))?[4,r.i18n.loadLocaleMessages("jimu-layouts/lib/translations",t).then((function(t){return Object(r.getAppStore)().dispatch(r.appActions.i18nMessagesLoaded("jimu-layouts",t)),t}))]:[3,2];case 1:return[2,n.sent()];case 2:return[2,Promise.resolve(i.a)]}}))}))}var s=e(7),c=r.React.createContext({}),d=e(2),p=e(5),f=e(16),g=e(4),v=e(18),y=e(8);function h(t,n){var e,o=t.appConfig.sections[n];if(!o||!o.views)return null;var r,i=null===(e=t.appRuntimeInfo.sectionNavInfos)||void 0===e?void 0:e[o.id];if(!i){var a=o.views[0];r=t.appConfig.views[a]}return{sectionId:n,navInfo:i,activeView:r,views:o.views,sectionStyle:o.style,transition:o.transition,autoPlay:o.autoPlay,interval:o.interval,loop:o.loop}}function b(t,n,e,o){var i=t.pages[n];return i?o===r.PagePart.Header?i.header&&t.header?O(t,t.header.layout[e],e):[]:o===r.PagePart.Footer?i.footer&&t.footer?O(t,t.footer.layout[e],e):[]:o===r.PagePart.Body?O(t,i.layout[e],e):[]:[]}function m(t,n,e,o){var i=t.pages[n];return i?o===r.PagePart.Header?i.header&&t.header?x(t,t.header.layout,e):[]:o===r.PagePart.Footer?i.footer&&t.footer?x(t,t.footer.layout,e):[]:o===r.PagePart.Body?x(t,i.layout,e):[]:[]}function w(t,n,e){var o=t.dialogs[n];return o?O(t,o.layout[e],e):[]}function I(t,n,e){var o=t.dialogs[n];return o?x(t,o.layout,e):[]}function O(t,n,e){var o=[];return Object(y.v)(t.layouts[n],r.LayoutItemType.Widget,!0).forEach((function(n){var r=t.layouts[n.layoutId].content[n.layoutItemId];r.isPending?o.push(n):t.widgets[r.widgetId].layouts&&Object.keys(t.widgets[r.widgetId].layouts).forEach((function(n){o=o.concat(O(t,t.widgets[r.widgetId].layouts[n][e],e))}))})),Object(y.v)(t.layouts[n],r.LayoutItemType.Section,!0).forEach((function(n){var r=t.layouts[n.layoutId].content[n.layoutItemId];r.isPending?o.push(n):t.sections[r.sectionId].views&&t.sections[r.sectionId].views.forEach((function(n){o=o.concat(O(t,t.views[n].layout[e],e))}))})),Object(y.v)(t.layouts[n],r.LayoutItemType.ScreenGroup,!0).forEach((function(n){var r,i,a=t.layouts[n.layoutId].content[n.layoutItemId].screenGroupId;null===(i=null===(r=t.screenGroups)||void 0===r?void 0:r[a].screens)||void 0===i||i.forEach((function(n){var r=null==t?void 0:t.screens[n];r.main&&(o=o.concat(O(t,r.main.layout[e],e))),r.panel&&(o=o.concat(O(t,r.panel.layout[e],e)))}))})),o}function x(t,n,e,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var a=[];return o||(o=Object(y.n)(t,n[e],r.LayoutItemType.Widget,e,!0)),i||(i=Object(y.n)(t,n[e],r.LayoutItemType.Section,e,!0)),Object.keys(r.BrowserSizeMode).filter((function(t){return r.BrowserSizeMode[t]!==e})).map((function(t){return r.BrowserSizeMode[t]})).forEach((function(u){Object(y.v)(t.layouts[n[u]],r.LayoutItemType.Widget,!0).forEach((function(n){var u=t.layouts[n.layoutId].content[n.layoutItemId];t.widgets[u.widgetId].manifest.widgetType!==r.WidgetType.Layout&&o.indexOf(u.widgetId)<0?!j(t,a,n)&&a.push(n):t.widgets[u.widgetId].layouts&&Object.keys(t.widgets[u.widgetId].layouts).forEach((function(n){x(t,t.widgets[u.widgetId].layouts[n],e,o,i).forEach((function(n){!j(t,a,n)&&a.push(n)}))}))})),Object(y.v)(t.layouts[n[u]],r.LayoutItemType.Section,!0).forEach((function(n){var r=t.layouts[n.layoutId].content[n.layoutItemId];i.indexOf(r.sectionId)<0?!j(t,a,n)&&a.push(n):t.sections[r.sectionId].views&&t.sections[r.sectionId].views.forEach((function(n){x(t,t.views[n].layout,e,o,i).forEach((function(n){!j(t,a,n)&&a.push(n)}))}))})),Object(y.v)(t.layouts[n[u]],r.LayoutItemType.ScreenGroup,!0).forEach((function(n){var r,u,l=t.layouts[n.layoutId].content[n.layoutItemId];(null===(u=null===(r=t.screenGroups)||void 0===r?void 0:r[l.screenGroupId])||void 0===u?void 0:u.screens)&&t.screenGroups[l.screenGroupId].screens.forEach((function(n){var r,u=null===(r=t.screens)||void 0===r?void 0:r[n];(null==u?void 0:u.main)&&x(t,u.main.layout,e,o,i).forEach((function(n){!j(t,a,n)&&a.push(n)})),(null==u?void 0:u.panel)&&x(t,u.panel.layout,e,o,i).forEach((function(n){!j(t,a,n)&&a.push(n)}))}))}))})),a}function j(t,n,e){var o=t.layouts[e.layoutId].content[e.layoutItemId];return!!n.find((function(n){var e=t.layouts[n.layoutId].content[n.layoutItemId];return e.type===o.type&&(e.type===r.LayoutItemType.Widget&&e.widgetId===o.widgetId||e.type===r.LayoutItemType.Section&&e.sectionId===o.sectionId)}))}var S,P,C,T=(S=function(t,n){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}S(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),R=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},k=function(){return(k=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},M=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]])}return e},L=function(t){function n(n){var e=t.call(this,n)||this;return e.onMouseDown=e.onMouseDown.bind(e),e.ref=r.React.createRef(),e.state={error:null},e}return T(n,t),n.prototype.loadWidgetClass=function(){var t=this,n=this.props,e=n.widgetId,o=n.isClassLoaded;e&&!o&&r.WidgetManager.getInstance().loadWidgetClass(e).catch((function(n){t.setState({error:r.i18n.getIntl().formatMessage({id:"widgetLoadError"})})}))},n.prototype.componentDidMount=function(){this.loadWidgetClass()},n.prototype.componentDidUpdate=function(){this.loadWidgetClass()},n.prototype.renderWidgetContent=function(){var t,n=this.props,e=n.widgetId,o=n.layoutId,i=n.layoutItemId;return e&&(t=r.WidgetManager.getInstance().getWidgetClass(e)),this.state.error?Object(r.jsx)("div",{className:"widget-content"},this.state.error):Object(r.jsx)("div",{className:"widget-content"},t&&Object(r.jsx)(r.ErrorBoundary,null,Object(r.jsx)(t,{widgetId:e,layoutId:o,layoutItemId:i})))},n.prototype.getStyle=function(){var t=Object(r.css)(P||(P=R(["\n      -webkit-overflow-scrolling: touch;\n    "],["\n      -webkit-overflow-scrolling: touch;\n    "])));return Object(r.css)(C||(C=R(["\n      ",";\n      overflow: ",";\n      position: relative;\n\n      &.aspect-ratio-wrapper {\n        padding-top: ","%;\n      }\n\n      .widget-content {\n        position: relative;\n        height: 100%;\n        width: 100%;\n        z-index: 0;\n      }\n\n      &.aspect-ratio-wrapper > .widget-content {\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n      }\n    "],["\n      ",";\n      overflow: ",";\n      position: relative;\n\n      &.aspect-ratio-wrapper {\n        padding-top: ","%;\n      }\n\n      .widget-content {\n        position: relative;\n        height: 100%;\n        width: 100%;\n        z-index: 0;\n      }\n\n      &.aspect-ratio-wrapper > .widget-content {\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n      }\n    "])),"app-loader"===this.props.widgetId?t:"",this.props.canCrossLayoutBoundary?"visible":"hidden",100*(this.props.aspectRatio||0))},n.prototype.onMouseDown=function(t){var n;(null===(n=Object(r.getAppStore)().getState().widgetsRuntimeInfo[this.props.widgetId])||void 0===n?void 0:n.state)!==r.WidgetState.Active&&Object(r.getAppStore)().dispatch(r.appActions.activateWidget(this.props.widgetId))},n.prototype.render=function(){var t=this.props,n=t.className,e=t.widgetStyle,o=t.widgetId,i=t.forceAspectRatio,a=t.aspectRatio,u=t.rotate,l=d.styleUtils.toCSSStyle(e),s=l.transform,c=M(l,["transform"]),p=u>0||u<0?"rotateZ("+u+"deg)":"",f=p;return s&&(f=s+" "+p),Object(r.jsx)("div",{className:Object(r.classNames)("widget-renderer w-100",n,{"aspect-ratio-wrapper":i&&a>0}),css:this.getStyle(),style:k(k({},c),{transform:f}),onMouseDownCapture:this.onMouseDown,"data-widgetid":o,ref:this.ref},this.renderWidgetContent(),this.props.children)},n}(r.React.PureComponent),z=r.ReactRedux.connect(p.mapStateToWidgetProps)(L),A={},E={};function _(t,n){A[t]=n}function B(t,n){E[t]=n}function N(t){return A[t]}function V(t){return E[t]}var F=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),W=function(){return(W=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},H=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return F(n,t),n.prototype.render=function(){var t=this.props.layout;if(!t)return null;var n=V(t.type||r.LayoutType.FlowLayout);return n?r.React.createElement(n,W({},this.props)):null},n}(r.React.PureComponent),D=r.ReactRedux.connect(p.mapStateToLayoutProps)(H),G=e(26),U=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),X=function(){return(X=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},J=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return U(n,t),n.prototype.render=function(){return r.React.createElement(G.a,X({},this.props,{layoutEntryComponent:D,viewVisibilityContext:s.d}))},n}(r.React.PureComponent);function Y(t,n){var e=r.React.useState(!0),o=e[0],i=e[1],a=r.React.useContext(s.b);return r.React.useEffect((function(){null!=t&&i(a)}),[t,a]),o}var Z,q=e(22),$=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},K=function(){return(K=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},Q=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]])}return e};function tt(t){var n,e,o,i,a,u,l,c=r.ReactRedux.useSelector((function(n){return function(t,n){var e=Object(p.mapStateToLayoutItemProps)(t,n);if(!e.layoutItem)return e;if(e.layoutItem.type===r.LayoutItemType.Widget)return K({},e);var o=h(t,e.layoutItem.sectionId);return K(K({},e),o)}(n,t)}),r.ReactRedux.shallowEqual),d=K(K({},t),c),f=r.React.useRef(),v=d.layoutId,y=d.layoutItemId,b=d.layoutItem,m=d.className,w=(d.children,d.isParentPlaying),I=d.isParentRevert,O=d.isParentEnableScroll,x=d.parentAnimationStyle,j=d.parentPlayId,S=Q(d,["className","children","isParentPlaying","isParentRevert","isParentEnableScroll","parentAnimationStyle","parentPlayId"]),P=(null==b?void 0:b.type)===r.LayoutItemType.Widget,C=(null==b?void 0:b.type)===r.LayoutItemType.Section,T=null!==(e=null===(n=d.layoutItem)||void 0===n?void 0:n.setting)&&void 0!==e?e:{},R=T.effect,k=T.oneByOneEffect,M=r.React.useState(!1),L=(M[0],M[1]),A=Object(q.a)(f.current,d.watchViewportVisibility);r.React.useEffect((function(){L(!0)}),[]);var E=function(t){var n,e=t.effect,o=(r.React.useContext(s.a).pageId,null===(n=null==e?void 0:e[r.AnimationTriggerType.ScrollIntoView])||void 0===n?void 0:n.type),i=Y(o=o&&o!==r.AnimationType.None?o:null),a=r.React.useState(Symbol("page load")),u=a[0],l=a[1],c=r.React.useRef(r.AnimationTriggerType.Manual),d=r.React.useRef(i);r.React.useEffect((function(){o&&d.current!==i&&(d.current=i,l(Symbol("autoplay when visible change")),c.current=r.AnimationTriggerType.Manual)}),[o,i]);var p=r.React.useCallback((function(){u&&(c.current=r.AnimationTriggerType.ScrollIntoView,l(null))}),[u]);return o?{onAnimationEnd:p,playId:u,type:o,trigger:u?r.AnimationTriggerType.Manual:c.current,revert:!i}:{}}({effect:R}),_=E.type,B=E.trigger,N=E.playId,V=E.revert,F=E.onAnimationEnd,W=function(t){var n,e,o=t.effect,i=t.isInSection,a=(r.React.useContext(s.a).pageId,null==o?void 0:o[r.AnimationTriggerType.ScrollIntoView]),u=Y(a=a&&a!==r.AnimationType.None?a:null),l=r.React.useContext(r.AnimationContext),c=r.React.useRef(u),d=r.React.useRef(r.AnimationTriggerType.Manual),p=r.React.useState(Symbol("page load")),f=p[0],g=p[1];r.React.useEffect((function(){a&&c.current!==u&&(c.current=u,g(Symbol("autoplay when visible change")),d.current=r.AnimationTriggerType.Manual)}),[a,u]);var v=r.React.useCallback((function(){f&&(d.current=r.AnimationTriggerType.ScrollIntoView,g(null))}),[f]);return a?{setting:null==o?void 0:o[r.AnimationTriggerType.ScrollIntoView],onAnimationEnd:v,trigger:f?r.AnimationTriggerType.Manual:d.current,inheritedOneByOneSetting:i?null:null==l?void 0:l.setting,playId:f,revert:!u,depth:(null!==(e=null==l?void 0:l.depth)&&void 0!==e?e:0)+1}:{inheritedOneByOneSetting:i?null:null==l?void 0:l.setting,depth:(null!==(n=null==l?void 0:l.depth)&&void 0!==n?n:0)+1}}({effect:k,isInSection:t.isInSection}),H=W.setting,D=W.trigger,G=W.inheritedOneByOneSetting,U=W.playId,X=W.depth,tt=W.revert,nt=W.onAnimationEnd,et=r.React.useMemo((function(){return{trigger:D,setting:H,inheritedOneByOneSetting:G,playId:U,depth:X,revert:tt,onAnimationEnd:nt}}),[D,H,G,U,X,tt,nt]);if(!d.layoutItem||P&&!b.widgetId||C&&!b.sectionId)return null;var ot=null===(o=null==R?void 0:R[r.AnimationTriggerType.ScrollIntoView])||void 0===o?void 0:o.option,rt=null!==(l=null===(u=null===(a=null===(i=b.setting)||void 0===i?void 0:i.style)||void 0===a?void 0:a.transform)||void 0===u?void 0:u.rotate)&&void 0!==l?l:0;return Object(r.jsx)(r.AnimationContext.Provider,{value:et},Object(r.jsx)(s.e.Provider,{value:A},Object(r.jsx)(r.Animation,{type:_,trigger:B,configType:null==ot?void 0:ot.configType,direction:null==ot?void 0:ot.direction,playId:N,revert:V,onAnimationEnd:F,parentAnimationStyle:x,isParentPlaying:w,isParentRevert:I,isParentEnableScroll:O,parentPlayId:j,ref:f,css:Object(r.css)(Z||(Z=$(["\n            position: relative;\n            overflow: visible;\n            min-width: ","px;\n            min-height: ","px;\n          "],["\n            position: relative;\n            overflow: visible;\n            min-width: ","px;\n            min-height: ","px;\n          "])),g.h,g.h),className:Object(r.classNames)("d-flex layout-item",m,{"is-widget":P,"is-section":C}),"data-layoutitemid":y,"data-layoutid":v},P&&Object(r.jsx)(z,K({rotate:rt},S)),C&&Object(r.jsx)(J,K({rotate:rt},S)),t.children)))}var nt,et,ot,rt,it,at,ut=e(13),lt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),st=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},ct=function(){return(ct=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},dt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return lt(n,t),n.prototype.getPositionStyle=function(t){var n=this.props,e=n.layoutItem,o=n.transformedBBox,i=null!=o?o:e.bbox,a=Object(ut.e)(i,t),u=ct(ct({},a),Object(ut.a)(e.bbox,t));return Object(r.css)(nt||(nt=st(["\n      position: absolute;\n      transform: ",";\n      left: ",";\n      right: ",";\n      top: ",";\n      bottom: ",";\n      width: ",";\n      height: ",";\n    "],["\n      position: absolute;\n      transform: ",";\n      left: ",";\n      right: ",";\n      top: ",";\n      bottom: ",";\n      width: ",";\n      height: ",";\n    "])),u.transform,Object(p.getValueOfBBox)(u,"left"),Object(p.getValueOfBBox)(u,"right"),Object(p.getValueOfBBox)(u,"top"),Object(p.getValueOfBBox)(u,"bottom"),Object(p.getValueOfBBox)(u,"width"),Object(p.getValueOfBBox)(u,"height"))},n.prototype.render=function(){var t=this.props,n=t.layoutItem,e=t.layoutId;if(null==n||n.isPending)return null;var o=r.lodash.assign({},f.a,n.setting),i=Object(p.parseAspectRatio)(o.aspectRatio),a=Object(ut.d)(n.bbox,o),u=Object(p.handleOnebyOneAnimation)(this.props);return Object(r.jsx)(tt,ct({css:this.getPositionStyle(o),layoutId:e,layoutItemId:n.id,forceAspectRatio:a,aspectRatio:i,isInSection:this.props.isInSection},u))},n}(r.React.PureComponent),pt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ft=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},gt=function(){return(gt=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},vt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return pt(n,t),n.prototype.createItem=function(t,n,e,o){var i=t.content[n];return Object(r.jsx)(dt,{key:n,index:e,layoutId:t.id,layoutItemId:n,layoutItem:i,transformedBBox:o?t.content[n].bbox:null,isInSection:this.props.isInSection})},n.prototype.render=function(){var t=this,n=this.props,e=n.layout,o=n.layouts,i=n.className,a=n.style;return e?Object(r.jsx)(s.a.Consumer,null,(function(n){t.pageContext=n;var u,l=e,s=!1;o[n.browserSizeMode]!==e.id&&t.layoutTransform&&(Object.keys(o).some((function(t){if(o[t]===e.id)return u=t,!0})),l=t.layoutTransform(e,u,n.browserSizeMode),s=!0);var c=r.lodash.assign({},f.b,l.setting),p=l.order||[],g=Object(r.classNames)("layout fixed-layout d-flex",i);return Object(r.jsx)("div",{className:g,style:gt(gt(gt({position:"relative",height:"auto"},a),d.styleUtils.toCSSStyle(c.style)),{width:"100%",overflow:"hidden"}),"data-layoutid":l.id},p.length>0&&Object(r.jsx)(r.OneByOneAnimation,{css:Object(r.css)(et||(et=ft(["\n                  position: absolute;\n                  left: 0;\n                  right: 0;\n                  top: 0;\n                  bottom: 0;\n                "],["\n                  position: absolute;\n                  left: 0;\n                  right: 0;\n                  top: 0;\n                  bottom: 0;\n                "]))),"data-layoutid":e.id},p.map((function(n,e){return t.createItem(l,n,e,s)}))))})):null},n}(r.React.PureComponent),yt=r.ReactRedux.connect(p.mapStateToLayoutProps)(vt),ht=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),bt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},mt=function(){return(mt=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},wt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ht(n,t),n.prototype.isStretchInCrossAxis=function(){var t,n;return(null===(n=null===(t=this.props.layoutItem.setting)||void 0===t?void 0:t.autoProps)||void 0===n?void 0:n.width)!==g.f.Custom},n.prototype.calHeight=function(t,n){var e,o;return(null===(e=t.autoProps)||void 0===e?void 0:e.height)===g.f.Auto||"ratio"===t.heightMode?"ratio"===t.heightMode?{height:"auto",flex:"0 0 auto"}:{height:"auto"}:(null===(o=t.autoProps)||void 0===o?void 0:o.height)===g.f.Stretch||"fit"===t.heightMode?{flex:"1 1 auto"}:{height:n.height,flexShrink:0}},n.prototype.getStyle=function(t,n){var e,o,i=this.props,a=i.index,u=i.layoutItem,l=i.space,s=u.bbox||{},c=this.calHeight(t,s);return c.width=n?"auto":s.width,Object(r.css)(ot||(ot=bt(["\n      margin-top: ",";\n      align-self: ",";\n      width: ",";\n      height: ",";\n      flex: ",";\n      flex-shrink: ",";\n    "],["\n      margin-top: ",";\n      align-self: ",";\n      width: ",";\n      height: ",";\n      flex: ",";\n      flex-shrink: ",";\n    "])),a>0?l+"px":"unset",n?"stretch":null!==(o=null===(e=t.style)||void 0===e?void 0:e.alignSelf)&&void 0!==o?o:"auto",Object(p.getValueOfBBox)(c,"width"),Object(p.getValueOfBBox)(c,"height"),c.flex,c.flexShrink)},n.prototype.render=function(){var t=this.props,n=t.layoutId,e=t.layoutItem,o=t.onClick;if(!e||e.isPending)return null;var i=Object(r.classNames)("flexbox-layout-item","d-flex"),a=e.setting||{},u=this.isStretchInCrossAxis(),l="ratio"===a.heightMode,s=Object(p.parseAspectRatio)(a.aspectRatio),c=Object(p.handleOnebyOneAnimation)(this.props);return Object(r.jsx)(tt,mt({css:this.getStyle(a,u),layoutId:n,layoutItemId:e.id,onClick:o,className:i,forceAspectRatio:l,aspectRatio:s},c))},n}(r.React.PureComponent),It=e(23),Ot=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),xt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},jt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ot(n,t),n.prototype.createItem=function(t,n,e){var o=this.props.layout;return Object(r.jsx)(wt,{key:t,index:n,space:e.space,layoutId:o.id,layoutItemId:t,layoutItem:o.content[t]})},n.prototype.render=function(){var t=this,n=this.props,e=n.layout,o=n.className,i=e.order||Object(r.Immutable)([]),a=Object.assign({},It.a,e.setting),u=Object(r.classNames)("layout column-layout d-flex w-100",o);return Object(r.jsx)("div",{className:u,style:{position:"relative",overflow:"hidden"},"data-layoutid":e.id},Object(r.jsx)(r.OneByOneAnimation,{enableScroll:!0,className:"trail-container d-flex flex-column w-100",css:Object(r.css)(rt||(rt=xt(["\n          height: 100%;\n          overflow-x: hidden;\n          padding: ",";\n          justify-content: ",";\n          overflow-y: ","\n        "],["\n          height: 100%;\n          overflow-x: hidden;\n          padding: ",";\n          justify-content: ",";\n          overflow-y: ","\n        "])),d.styleUtils.toCSSPadding(a.padding),a.justifyContent,!1===a.overflowY?"hidden !important":null)},i.asMutable().map((function(n,e){return t.createItem(n,e,a)}))))},n}(r.React.PureComponent),St=r.ReactRedux.connect(p.mapStateToLayoutProps)(jt),Pt=e(24),Ct=e(14),Tt=e(17),Rt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),kt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},Mt=function(){return(Mt=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},Lt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Rt(n,t),n.prototype.calHeight=function(t){var n=this.props.layoutItem.bbox||{},e=Object(p.getValueOfBBox)(n,"height");if(!e||Object(p.isPercentage)(e))return"auto";switch(t.heightMode){case"auto":return"auto";case"fixed":return e}},n.prototype.getStyle=function(t){var n=this.props,e=n.index,o=n.gutter;return Object(r.css)(it||(it=kt(["\n      margin-top: ",";\n      width: ",";\n      height: ",";\n      flex-shrink: 0;\n      transform: ",";\n    "],["\n      margin-top: ",";\n      width: ",";\n      height: ",";\n      flex-shrink: 0;\n      transform: ",";\n    "])),e>0?o+"px":"unset",Object(Tt.b)(t),this.calHeight(t),t.offsetX||t.offsetY?"translate("+(t.offsetX||0)+"px, "+(t.offsetY||0)+"px)":null)},n.prototype.render=function(){var t=this.props,n=t.layoutId,e=t.layoutItem,o=t.onClick,i=t.isEmpty;if(!e||i)return null;var a=Object(r.classNames)("flow-layout-item","d-flex"),u=r.lodash.assign({},Ct.a,e.setting),l=Object(p.handleOnebyOneAnimation)(this.props);return Object(r.jsx)(tt,Mt({css:this.getStyle(u),layoutId:n,layoutItemId:e.id,onClick:o,className:a},l))},n}(r.React.PureComponent),zt=r.ReactRedux.connect(Tt.c)(Lt),At=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Et=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return At(n,t),n.prototype.calculatePosition=function(){var t=this.props.layoutItem;return Object(Tt.a)(t)},n.prototype.render=function(){var t=this.props,n=t.layoutId,e=t.layoutItem,o=t.onClick;if(!e)return null;var i=Object(r.classNames)("flow-layout-item floating","d-flex");return Object(r.jsx)(tt,{css:this.calculatePosition(),layoutId:n,layoutItemId:e.id,onClick:o,className:i})},n}(r.React.PureComponent),_t=e(21),Bt=e(11),Nt=e(25),Vt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};function Ft(t,n){return Object(r.css)(at||(at=Vt(["\n    position: relative;\n    width: 100%;\n\n    .main-panels {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      pointer-events: none;\n      z-index: 0;\n    }\n\n    .side-panels {\n      position: relative;\n      z-index: 1;\n      pointer-events: none;\n\n      > div:first-of-type > div.panel-content {\n        padding-top: ","vh;\n        padding-top: calc(var(--vh) * ",");\n      }\n\n      /* > div:nth-last-of-type(2) {\n        min-height: 100vh;\n      } */\n    }\n\n    &.small-size .main-panels {\n      z-index: ",";\n    }\n\n    &.small-size .side-panels {\n      z-index: ",";\n    }\n  "],["\n    position: relative;\n    width: 100%;\n\n    .main-panels {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      pointer-events: none;\n      z-index: 0;\n    }\n\n    .side-panels {\n      position: relative;\n      z-index: 1;\n      pointer-events: none;\n\n      > div:first-of-type > div.panel-content {\n        padding-top: ","vh;\n        padding-top: calc(var(--vh) * ",");\n      }\n\n      /* > div:nth-last-of-type(2) {\n        min-height: 100vh;\n      } */\n    }\n\n    &.small-size .main-panels {\n      z-index: ",";\n    }\n\n    &.small-size .side-panels {\n      z-index: ",";\n    }\n  "])),Math.round(100*Bt.b),Math.round(100*Bt.b),n?0:1,n?1:0)}function Wt(t){var n,e=t.layoutId,o=t.layoutItemId,i=t.layoutItem,a=i.screenGroupId,u=r.ReactRedux.useSelector((function(t){return t.appConfig.screenGroups[i.screenGroupId]})),l=r.ReactRedux.useSelector((function(t){var n=t.appConfig.screenGroups[i.screenGroupId].screens[0];return null!=t.appConfig.screens[n].panel})),c=r.ReactRedux.useSelector((function(t){return t.browserSizeMode})),d=r.React.useContext(s.a).pageId,p=r.ReactRedux.useSelector((function(t){var n=t.appConfig.pages[d];if(null==n?void 0:n.header){var e=t.appConfig.header;if(null==e?void 0:e.sticky){var o=t.browserSizeMode,r=t.appConfig.mainSizeMode,i=e.height[o]||e.height[r]||Bt.a;return parseInt(i,10)}}return 0})),f=u.screens,g=u.stretchPanel,v=void 0===g||g,y=u.triggerType,h=void 0===y?r.ScreenTriggerType.Bottom:y,b=u.verticalSpace,m=void 0===b?"0":b,w=u.panelTransitionType,I=void 0===w?r.ScreenTransitionType.Push:w,O=null!==(n=u.transitionType)&&void 0!==n?n:r.ScreenTransitionType.Fade;c!==r.BrowserSizeMode.Small||l||(O=r.ScreenTransitionType.Cover);var x=r.ReactRedux.useSelector((function(t){var n;return null===(n=t.appRuntimeInfo.screenGroupNavInfos)||void 0===n?void 0:n[a]})),j=r.React.useRef(),S=r.React.useRef(),P=r.React.useRef(),C=r.React.useState(0),T=C[0],R=C[1],k=r.React.useMemo((function(){var t,n,e;if(c!==r.BrowserSizeMode.Small)return!1;var o=Object(r.getAppStore)().getState().appConfig,i=null===(n=null===(t=o.screenGroups)||void 0===t?void 0:t[a])||void 0===n?void 0:n.screens;return!!(null==i?void 0:i[T])&&(null===(e=o.screens[i[T]].panel)||void 0===e?void 0:e.overlay)}),[a,T,c]);r.React.useEffect((function(){null!=(null==x?void 0:x.activeIndex)&&x.activeIndex!==T&&R(x.activeIndex)}),[x,T]);var M=r.React.useCallback((function(t,n){n&&t!==T?Object(r.getAppStore)().dispatch(r.appActions.screenGroupNavInfoChanged(a,t,!1)):!n&&t>0&&Object(r.getAppStore)().dispatch(r.appActions.screenGroupNavInfoChanged(a,t-1,!1))}),[T,a]),L=r.React.useCallback((function(){if(S.current){var t=S.current.children[0],n=S.current.children[1];t.style.height=n.clientHeight+"px"}}),[]),z=r.React.useMemo((function(){return r.lodash.debounce(L,200)}),[L]),A=r.React.useCallback((function(t,n){if(S.current){var e=S.current.children[0],o=S.current.children[1];if(O!==r.ScreenTransitionType.Fade)if(O!==r.ScreenTransitionType.Cover){if(O===r.ScreenTransitionType.Push){var i=e.querySelector('div.screen-main-panel[data-index="'+t+'"]'),a=o.querySelector('div.screen-side-panel[data-index="'+t+'"]');i.style.height=a.clientHeight+"px",e.style.height=o.clientHeight+"px"}}else Object(Nt.a)(e,o,c);else e.style.height=o.clientHeight+"px"}}),[c,O]);return f.length>0?Object(r.jsx)("div",{className:Object(r.classNames)("flow-layout-item",{"small-size":c===r.BrowserSizeMode.Small}),css:Ft(0,k),"data-layoutitemid":o,"data-layoutid":e,ref:j},Object(r.jsx)("div",{className:"screen-group",ref:S},Object(r.jsx)("div",{className:"main-panels",ref:P},Object(r.jsx)(_t.a,{pageId:d,activeIndex:T,screens:f,transitionType:O,layoutEntry:D,headerHeight:p,isSmallSize:c===r.BrowserSizeMode.Small})),Object(r.jsx)("div",{className:"side-panels"},f.map((function(t,n){return Object(r.jsx)(_t.b,{key:t,index:n,isLast:n===f.length-1,screenId:t,refElement:null,layoutEntry:D,isActive:n===T,stretched:v,triggerType:h,verticalSpace:m,transitionType:I,screenTransitionType:O,onHeightChange:A,onInterctionChange:M,isSmallSize:c===r.BrowserSizeMode.Small,headerHeight:p})})),Object(r.jsx)(r.ReactResizeDetector,{handleHeight:!0,onResize:z})))):null}var Ht,Dt,Gt,Ut=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Xt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},Jt=function(){return(Jt=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},Yt=function(t){function n(n){var e,o=t.call(this,n)||this,i=r.ExtensionManager.getInstance().getExtensions(""+r.extensionSpec.ExtensionPoints.LayoutTransformer);if(i&&i.length>0){var a=i.find((function(t){return t.layoutType===o.props.layout.type}));o.layoutTransform=null===(e=a)||void 0===e?void 0:e.transformLayout}return o}return Ut(n,t),n.prototype._createItem=function(t,n,e){var o,i=this.props.layout;return t.type===r.LayoutItemType.ScreenGroup?Object(r.jsx)(Wt,{key:t.id+"_"+n,itemIndex:n,layoutId:i.id,layoutItemId:t.id,layoutItem:t}):(null===(o=t.setting)||void 0===o?void 0:o.isFloating)?Object(r.jsx)(Et,{key:t.id,index:n,gutter:e.gutter,layoutId:i.id,layoutItemId:t.id,layoutItem:t}):Object(r.jsx)(zt,{key:t.id,index:n,gutter:e.gutter,layoutId:i.id,layoutItemId:t.id,layoutItem:t})},n.prototype.render=function(){var t=this,n=this.props,e=n.layout,o=n.className,i=n.style,a=n.layouts;return e?Object(r.jsx)(s.a.Consumer,null,(function(n){var u,l=e;a[n.browserSizeMode]!==e.id&&t.layoutTransform&&(Object.keys(a).some((function(t){if(a[t]===e.id)return u=t,!0})),l=t.layoutTransform(e,u,n.browserSizeMode));var s=l.order||[],c=r.lodash.assign({},Ct.b,l.setting),p=Jt(Jt(Jt({},i),d.styleUtils.toCSSStyle(c.style)),{position:"relative"}),f=Object(r.classNames)("layout flow-layout w-100",o);return Object(r.jsx)("div",{className:f,style:p,"data-layoutid":e.id},Object(r.jsx)(r.OneByOneAnimation,{"data-layoutid":l.id,enableScroll:!0,className:"trail-container d-flex flex-column align-items-center",css:Object(r.css)(Ht||(Ht=Xt(["\n                  width: 100%;\n                "],["\n                  width: 100%;\n                "])))},s.map((function(n,e){return t._createItem(l.content[n],e,c)}))))})):null},n}(r.React.PureComponent),Zt=r.ReactRedux.connect(p.mapStateToLayoutProps)(Yt),qt=e(9),$t=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Kt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},Qt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return $t(n,t),n.prototype.render=function(){var t=this.props,n=t.layoutId,e=t.layoutItem;if(!e)return null;var o=Object(r.css)(Dt||(Dt=Kt(["\n      position: relative;\n      width: ",";\n      height: ",";\n      flex-shrink: 1;\n      flex-grow: 1;\n    "],["\n      position: relative;\n      width: ",";\n      height: ",";\n      flex-shrink: 1;\n      flex-grow: 1;\n    "])),Object(p.getValueOfBBox)(e.bbox,"width"),Object(p.getValueOfBBox)(e.bbox,"height"));return Object(r.jsx)(tt,{css:o,layoutId:n,layoutItemId:e.id,onClick:this.props.onClick})},n}(r.React.PureComponent),tn=r.ReactRedux.connect(p.mapStateToLayoutItemProps)(Qt),nn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),en=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},on=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return nn(n,t),n.prototype.getStyle=function(){var t=this.props,n=t.direction,e=t.size,o=t.color,i=e+"px";return Object(r.css)(Gt||(Gt=en(["\n      width: ",";\n      height: ",";\n      background: ",";\n      position: relative;\n      z-index: ",";\n\n      .horizontal-splitter {\n        width: 15px;\n        height: 100%;\n        position: absolute;\n        left: -5px;\n      }\n\n      .vertical-splitter {\n        width: 100%;\n        height: 15px;\n        position: absolute;\n        top: -5px;\n      }\n    "],["\n      width: ",";\n      height: ",";\n      background: ",";\n      position: relative;\n      z-index: ",";\n\n      .horizontal-splitter {\n        width: 15px;\n        height: 100%;\n        position: absolute;\n        left: -5px;\n      }\n\n      .vertical-splitter {\n        width: 100%;\n        height: 15px;\n        position: absolute;\n        top: -5px;\n      }\n    "])),n===qt.b.Vertical?"100%":i,n===qt.b.Vertical?i:"100%",o,g.g.HandlerTools)},n.prototype.render=function(){var t=this,n=this.props.direction;return Object(r.jsx)("div",{ref:function(n){return t.ref=n},css:this.getStyle()},Object(r.jsx)("div",{className:Object(r.classNames)({"horizontal-splitter":n===qt.b.Horizontal,"vertical-splitter":n===qt.b.Vertical})}))},n}(r.React.PureComponent),rn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),an=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return rn(n,t),n.prototype.createItems=function(t,n){var e=this.props,o=e.layoutId,i=e.layoutItem,a=e.splitterColor,u=e.splitterSize,l=[];return t.forEach((function(e,s){var c=n.includes(e)?ln:tn;l.push(r.React.createElement(c,{key:e,layoutId:o,layoutItemId:e})),s!==t.length-1&&l.push(r.React.createElement(on,{key:e+"_splitter",layoutId:o,direction:i.direction,prevItemId:t[s],nextItemId:t[s+1],size:u,color:a}))})),l},n.prototype.render=function(){var t=this,n=this.props,e=n.layoutItem,o=n.subContainerIds;if(!e)return null;var i=e.items&&e.items.length>0?e.items:[e.id],a=o.split(","),u=Object(r.classNames)("grid-container d-flex justify-content-start",{"flex-column":e.direction===qt.b.Vertical}),l={width:e.bbox.width,height:e.bbox.height,flexShrink:1,flexGrow:1};return r.React.createElement("div",{className:u,"data-layoutitemid":e.id,"data-layoutid":this.props.layoutId,style:l,ref:function(n){return t.ref=n}},this.createItems(i,a))},n}(r.React.PureComponent);var un,ln=r.ReactRedux.connect((function(t,n){var e=n.layoutId,o=n.layoutItemId,r=t.appConfig.layouts[e],i=r.content[o],a=[];return i&&i.items&&i.items.forEach((function(t){var n=r.content[t];n&&n.items&&a.push(t)})),{layoutItem:i,subContainerIds:a.join(",")}}))(an),sn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),cn=function(){return(cn=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},dn=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return sn(n,t),n.prototype.render=function(){var t,n,e=this.props,o=e.layout,i=e.className,a=r.lodash.assign({},qt.a,o.setting&&o.setting.splitter),u=null===(t=o.setting)||void 0===t?void 0:t.style,l=null===(n=o.setting)||void 0===n?void 0:n.rootItemId,s=cn(cn({position:"relative"},d.styleUtils.toCSSStyle(u)),{overflow:"hidden"}),c=Object(r.classNames)("layout grid-layout d-flex w-100",i);return Object(r.jsx)("div",{className:c,style:s,"data-layoutid":o.id},l&&Object(r.jsx)(ln,{layoutId:o.id,layoutItemId:l,splitterSize:a.size,splitterColor:a.color}))},n}(r.React.PureComponent),pn=r.ReactRedux.connect(p.mapStateToLayoutProps)(dn),fn=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},gn=function(){return(gn=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function vn(t){var n=t.pageJson,e=t.visible,o=t.pageContext,i=t.browserSizeMode,a=r.React.useState(),u=a[0],l=a[1],c=n.layout,d=n.oneByOneEffect&&n.oneByOneEffect.type!==r.AnimationType.None?n.oneByOneEffect:null,p=d?!e:null;r.React.useEffect((function(){d&&l(Symbol("autoplay when switching to visible"))}),[e]);var f,g=r.React.useMemo((function(){return{trigger:r.AnimationTriggerType.Manual,setting:d,revert:p,inheritedOneByOneSetting:null,playId:d?u:null,depth:0}}),[d,p,u]);n.mode!==r.PageMode.FitWindow&&n.maxWidth>0&&(f=n.maxWidth);var v=r.React.useMemo((function(){return gn(gn({},o),{maxWidth:f,browserSizeMode:i,viewOnly:!0,pageId:n.id})}),[o,i]);if(c)return Object(r.jsx)(s.a.Provider,{key:n.id,value:v},Object(r.jsx)(s.b.Provider,{value:e},Object(r.jsx)("div",{id:n.id,"data-pageid":n.id,className:"page",style:{display:e?"flex":"none",backgroundColor:n.bodyBackgroundColor||"transparent",height:"auto",flex:"1 0 auto",zIndex:1}},Object(r.jsx)(r.AnimationContext.Provider,{value:g},Object(r.jsx)(D,{layouts:c,className:"w-100 flex-grow-1",css:Object(r.css)(un||(un=fn(["\n                margin: 0 auto;\n                background-color: transparent;\n              "],["\n                margin: 0 auto;\n                background-color: transparent;\n              "])))})))))}var yn,hn=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},bn=function(){return(bn=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function mn(t){var n,e,o,i=t.headerJson,a=t.visible,u=t.browserSizeMode,l=t.theme,c=t.mainSizeMode,d=t.pageContext,p=i.height[u]||i.height[c]||50,f=i.layout;i.backgroundIMage&&("string"==typeof i.backgroundIMage?o=i.backgroundIMage:"object"==typeof i.backgroundIMage&&(o=i.backgroundIMage.url));var g=r.React.useMemo((function(){var t;return Object(r.css)(yn||(yn=hn(["\n      display: ",";\n      position: ",";\n      z-index: ",";\n      top: 0;\n      width: 100%;\n      min-height: ","px;\n      height: auto;\n      overflow: hidden;\n      background-color: ",";\n      background-image: ",";\n      background-position: ",";\n      color: ",";\n      flex: 0 0 auto;\n    "],["\n      display: ",";\n      position: ",";\n      z-index: ",";\n      top: 0;\n      width: 100%;\n      min-height: ","px;\n      height: auto;\n      overflow: hidden;\n      background-color: ",";\n      background-image: ",";\n      background-position: ",";\n      color: ",";\n      flex: 0 0 auto;\n    "])),a?"flex":"none",i.sticky?"sticky":"relative",i.sticky?2:"auto",Math.round(parseFloat(p)),i.backgroundColor||l.header.bg||"transparent",o,i.backgroundPosition,null===(t=null==l?void 0:l.header)||void 0===t?void 0:t.color)}),[a,p,i.sticky,i.backgroundColor,o,i.backgroundPosition,null===(n=null==l?void 0:l.header)||void 0===n?void 0:n.bg,null===(e=null==l?void 0:l.header)||void 0===e?void 0:e.color]),v=r.React.useMemo((function(){return bn(bn({},d),{browserSizeMode:u,viewOnly:!0})}),[d,u]);return Object(r.jsx)(s.a.Provider,{value:v},Object(r.jsx)(s.b.Provider,{value:a},Object(r.jsx)("div",{className:"header",css:g},Object(r.jsx)(D,{layouts:f,className:"w-100 flex-grow-1"}))))}var wn,In=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},On=function(){return(On=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function xn(t){var n,e,o,i=t.footerJson,a=t.visible,u=t.browserSizeMode,l=t.theme,c=t.mainSizeMode,d=t.pageContext,p=i.height[u]||i.height[c]||50,f=i.layout;i.backgroundIMage&&("string"==typeof i.backgroundIMage?o=i.backgroundIMage:"object"==typeof i.backgroundIMage&&(o=i.backgroundIMage.url));var g=r.React.useMemo((function(){var t;return Object(r.css)(wn||(wn=In(["\n      display: ",";\n      width: 100%;\n      min-height: ","px;\n      height: auto;\n      overflow: hidden;\n      background-color: ",";\n      background-image: ",";\n      background-position: ",";\n      color: ",";\n      z-index: 0;\n    "],["\n      display: ",";\n      width: 100%;\n      min-height: ","px;\n      height: auto;\n      overflow: hidden;\n      background-color: ",";\n      background-image: ",";\n      background-position: ",";\n      color: ",";\n      z-index: 0;\n    "])),a?"flex":"none",Math.round(parseFloat(p)),i.backgroundColor||l.footer.bg||"transparent",o,i.backgroundPosition,null===(t=null==l?void 0:l.footer)||void 0===t?void 0:t.color)}),[a,p,i.backgroundColor,o,i.backgroundPosition,null===(n=null==l?void 0:l.footer)||void 0===n?void 0:n.bg,null===(e=null==l?void 0:l.footer)||void 0===e?void 0:e.color]),v=r.React.useMemo((function(){return On(On({},d),{browserSizeMode:u,viewOnly:!0})}),[d,u]);return Object(r.jsx)(s.a.Provider,{value:v},Object(r.jsx)(s.b.Provider,{value:a},Object(r.jsx)("div",{className:"footer",css:g},Object(r.jsx)(D,{layouts:f,className:"w-100 flex-grow-1"}))))}var jn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Sn=function(){return(Sn=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};B(r.LayoutType.FixedLayout,yt),B(r.LayoutType.FlowLayout,Zt),B(r.LayoutType.GridLayout,pn),B(r.LayoutType.ColumnLayout,St);var Pn=function(t){function n(n){var e=t.call(this,n)||this;return r.ExtensionManager.getInstance().registerExtension({epName:r.extensionSpec.ExtensionPoints.LayoutTransformer,extension:new Pt.a}),e.pageContext={theme:e.props.theme,mainSizeMode:e.props.mainSizeMode},e}return jn(n,t),n.prototype.componentDidUpdate=function(t){Cn(t.pageStatus)!==Cn(this.props.pageStatus)&&(this.pageRef.scrollTop=0)},n.prototype.render=function(){var t=this,n=this.props,e=n.pageStatus,o=n.pages,i=n.theme,a=Cn(e);if(!a)return null;var u="100%",l=o[a]||{};l&&!isNaN(+l.width)&&(u=+l.width);var s={width:u,margin:"0 auto",minHeight:"100%",overflow:"auto",height:"100%",backgroundColor:l&&l.backgroundColor};return Object(r.jsx)("div",{className:"page-renderer d-flex flex-column",css:s,ref:function(n){return t.pageRef=n},"data-testid":"pageRenderer"},this.renderDialog(),this.renderHeader(),Object.keys(e).map((function(n){return t.renderPageBody(n,i)})),this.renderFooter())},n.prototype.renderHeader=function(){if(!this.props.header)return null;var t=this.props,n=t.header,e=t.headerVisible,o=t.browserSizeMode,i=t.theme,a=t.mainSizeMode;return Object(r.jsx)(mn,{headerJson:n,pageContext:this.pageContext,visible:e,browserSizeMode:o,mainSizeMode:a,theme:i})},n.prototype.renderFooter=function(){if(!this.props.footer)return null;var t=this.props,n=t.footer,e=t.footerVisible,o=t.browserSizeMode,i=t.mainSizeMode,a=t.theme;return Object(r.jsx)(xn,{footerJson:n,pageContext:this.pageContext,visible:e,browserSizeMode:o,mainSizeMode:i,theme:a})},n.prototype.renderPageBody=function(t,n){var e=this.props,o=e.pageStatus,i=e.pages[t];if(i){var a=!!o[t];return Object(r.jsx)(vn,{key:i.id,pageJson:i,pageContext:this.pageContext,browserSizeMode:this.props.browserSizeMode,visible:a})}},n.prototype.renderDialog=function(){var t=this.props,n=t.dialogId,e=t.urlDialogJson,o=t.splashDialogJson,i=t.isSplashClosed,a=t.isPageDlgClosed,u=t.pageDialogJson,l=t.pageDialogId,c=t.browserSizeMode;return Object(r.jsx)(r.React.Fragment,null,e&&Object(r.jsx)(s.a.Provider,{value:Sn(Sn({},this.pageContext),{browserSizeMode:c,dialogId:n,viewOnly:!0})},Object(r.jsx)(r.AppDialog,{dialogJson:e,runtime:!0})),!a&&u&&(null==e?void 0:e.id)!==u.id&&Object(r.jsx)(s.a.Provider,{value:Sn(Sn({},this.pageContext),{browserSizeMode:c,dialogId:l,viewOnly:!0})},Object(r.jsx)(r.AppDialog,{dialogJson:u,runtime:!0,isOpenByPage:!0})),!i&&o&&(null==e?void 0:e.id)!==o.id&&Object(r.jsx)(s.a.Provider,{value:Sn(Sn({},this.pageContext),{browserSizeMode:c,dialogId:o.id,viewOnly:!0})},Object(r.jsx)(r.AppDialog,{dialogJson:o,runtime:!0})))},n.displayName="RuntimePageRenderer",n}(r.React.PureComponent);function Cn(t){return Object.keys(t).find((function(n){return t[n]}))}var Tn=r.ReactRedux.connect((function(t,n){var e,o,r,i,a,u,l=Cn(n.pageStatus);if(!l)return{};var s=window.jimuConfig.isBuilder?t.appStateInBuilder:t,c=null===(e=null==s?void 0:s.appRuntimeInfo)||void 0===e?void 0:e.dialogInfos,d=null===(o=null==s?void 0:s.appRuntimeInfo)||void 0===o?void 0:o.currentPageId,p=null===(i=null===(r=null==s?void 0:s.appConfig)||void 0===r?void 0:r.pages[d])||void 0===i?void 0:i.autoOpenDialogId,f=t.appConfig.dialogs,g=f[Object.keys(f).find((function(t){return f[t].isSplash}))];return{pages:t.appConfig.pages,header:t.appConfig.header,headerVisible:!!t.appConfig.pages[l].header,footer:t.appConfig.footer,footerVisible:!!t.appConfig.pages[l].footer,browserSizeMode:t.browserSizeMode,mainSizeMode:t.appConfig.mainSizeMode,theme:t.theme,splashDialogJson:g,isSplashClosed:null===(a=null==c?void 0:c[null==g?void 0:g.id])||void 0===a?void 0:a.isClosed,pageDialogId:p,pageDialogJson:f[p],isPageDlgClosed:null===(u=null==c?void 0:c[d+"-"+p])||void 0===u?void 0:u.isClosed,urlDialogJson:f[n.dialogId]}}))(Pn),Rn=function(t,n,e,o){return new(e||(e=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function u(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,u)}l((o=o.apply(t,n||[])).next())}))},kn=function(t,n){var e,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],o=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function Mn(){return Rn(this,void 0,void 0,(function(){return kn(this,(function(t){switch(t.label){case 0:return[4,Promise.all([l()])];case 1:return[2,t.sent()]}}))}))}}]))}}}));