System.register(["jimu-core","jimu-ui"],(function(e){var t,n;return{setters:[function(e){t=e},function(e){n=e}],execute:function(){e(function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=309)}({0:function(e,n){e.exports=t},1:function(e,t){e.exports=n},119:function(e,t,n){var o={"./circle.svg":120,"./hexagon.svg":121,"./oval.svg":122,"./pentagon.svg":123,"./rectangle.svg":124,"./rhombus.svg":125,"./triangle.svg":126};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=119},120:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M28 14c0 7.732-6.268 14-14 14S0 21.732 0 14 6.268 0 14 0s14 6.268 14 14z"></path></svg>'},121:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M14.124 0l12.124 7v14l-12.124 7L2 21V7z"></path></svg>'},122:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M28 14c0 5.523-6.268 10-14 10S0 19.523 0 14 6.268 4 14 4s14 4.477 14 10z"></path></svg>'},123:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M14 1l14 10.172-5.348 16.458H5.347L-.001 11.172z"></path></svg>'},124:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M0 0v28h28V0H0z"></path></svg>'},125:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M14 0l14 14-14 14L0 14z"></path></svg>'},126:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M14 0l14 28H0z"></path></svg>'},20:function(e,t,n){"use strict";var o,i;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),function(e){e.ByUpload="BYUPLOAD",e.ByStaticUrl="BYSTATICURL",e.ByDynamicUrl="BYDYNAMICURL"}(o||(o={})),function(e){e.Expression="EXPRESSION",e.Attachment="ATTACHMENT",e.Symbol="SYMBOL"}(i||(i={}))},309:function(e,t,n){"use strict";n.r(t);var o,i,r,a=n(0),c=n(1),s=n(20),g=n(95),u=n(35),l=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cropShapeList=["rectangle","circle","hexagon","pentagon","rhombus","triangle"],t.shapeClick=function(e,n){if(!t.props.widgetConfig.functionConfig.imageParam||!t.props.widgetConfig.functionConfig.imageParam.cropParam||t.props.widgetConfig.functionConfig.imageParam.cropParam.cropShape!==t.cropShapeList[n]){var o=e.currentTarget.getElementsByTagName("svg")&&e.currentTarget.getElementsByTagName("svg")[0];if(o){var i=a.moduleLoader.getJimuForBuilderModules().getAppConfigAction(),r=Object(a.Immutable)(t.props.widgetConfig),c=Object(a.Immutable)(r.functionConfig.imageParam?r.functionConfig.imageParam.cropParam:null);c||(c=Object(a.Immutable)({})),c=(c=(c=c.set("svgViewBox",o.getAttribute("viewBox"))).set("svgPath",o.getElementsByTagName("path")[0].getAttribute("d"))).set("cropShape",t.cropShapeList[n]),r=r.setIn(["functionConfig","imageParam","cropParam"],c),i.editWidgetConfig(t.props.id,r).exec()}}},t}return l(t,e),t.prototype.getStyle=function(){var e=this.props.theme;return Object(a.css)(i||(i=p(["\n      .widget-image-chooseshape-item {\n        background-color: ",";\n      }\n\n      .widget-image-chooseshape-item:hover {\n        cursor: 'pointer';\n        background-color: ",";\n      }\n\n      .chooseshape-item-selected {\n        background-color: ",";\n      }\n      "],["\n      .widget-image-chooseshape-item {\n        background-color: ",";\n      }\n\n      .widget-image-chooseshape-item:hover {\n        cursor: 'pointer';\n        background-color: ",";\n      }\n\n      .chooseshape-item-selected {\n        background-color: ",";\n      }\n      "])),e.colors.palette.light[300],e.colors.palette.light[500],e.colors.palette.light[500])},t.prototype.getTooltipStyle=function(){var e=this.props.theme;return Object(a.css)(r||(r=p(["\n      border: none;\n\n      .tooltip {\n        color: ",";\n        background-color: ",";\n        border-color: ",";\n      }\n    "],["\n      border: none;\n\n      .tooltip {\n        color: ",";\n        background-color: ",";\n        border-color: ",";\n      }\n    "])),e.colors.black,e.colors.palette.light[600],e.colors.palette.light[300])},t.prototype.render=function(){var e=this,t=this.props,o=t.id,i=t.appConfig,r=t.theme,s=t.widgetConfig,g=i.widgets[o],l=window.parent._widgetSettingManager.getSettingI18nMessagesByUri(g.uri);return Object(a.jsx)("div",{style:{width:"50px"},css:this.getStyle()},this.cropShapeList.map((function(t,o){var i,g,p,m,f=n(119)("./"+t+".svg"),h="image"+t,d=null!==(i=l[h])&&void 0!==i?i:u.a[h],v="rectangle"===t&&!(null===(g=s.functionConfig.imageParam)||void 0===g?void 0:g.cropParam)||(null===(m=null===(p=s.functionConfig.imageParam)||void 0===p?void 0:p.cropParam)||void 0===m?void 0:m.cropShape)===t;return Object(a.jsx)(c.Tooltip,{key:o,title:d,placement:"right-start",css:e.getTooltipStyle()},Object(a.jsx)("div",{className:Object(a.classNames)("w-100 d-flex justify-content-center align-items-center widget-image-chooseshape-item",{"chooseshape-item-selected":v}),style:{height:"40px"},onClick:function(t){return e.shapeClick(t,o)}},Object(a.jsx)(c.Icon,{icon:f,color:r.colors.black})))})))},t}(a.React.PureComponent),f=a.themeUtils.withBuilderTheme(m),h=function(){function e(){this.index=0,this.id="choose-shape",this.classes={},this.isEmptySource=function(e){return!(e.functionConfig.imageParam&&e.functionConfig.imageParam.url||e.functionConfig.srcExpression||e.functionConfig.dynamicUrlType===s.a.Attachment)}}return e.prototype.getGroupId=function(){return null},e.prototype.getTitle=function(){var e=this.widgetId,t=a.i18n.getIntl(e);return t?t.formatMessage({id:"imageChooseShape",defaultMessage:g.a.imageChooseShape}):"Shape"},e.prototype.getIcon=function(){return n(310)},e.prototype.onClick=function(e){return null},e.prototype.visible=function(e){var t=Object(a.getAppStore)().getState().appConfig.widgets[e.layoutItem.widgetId];if(t){var n=t.config;return!this.isEmptySource(n)}return!1},e.prototype.getSettingPanel=function(e){var t=e.layoutItem.widgetId;if(this.classes[t])return this.classes[t];return this.classes[t]=a.ReactRedux.connect((function(e){var n=Object(a.Immutable)(e.appConfig.widgets[t].config);return{id:t,appConfig:e.appConfig,queryObject:e.queryObject,widgetConfig:n}}))(f),this.classes[t]},e}();t.default=h},310:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.022 11H1a1 1 0 01-1-1V1a1 1 0 011-1h9a1 1 0 011 1v4.022A5.5 5.5 0 115.022 11zm0-1A5.502 5.502 0 0110 5.022V1H1v9h4.022zm5.478 5a4.5 4.5 0 100-9 4.5 4.5 0 000 9z" fill="#000" fill-rule="nonzero"></path></svg>'},35:function(e,t,n){"use strict";t.a={imageSource:"Image source",imageNoneSource:"None",staticSource:"Static",dynamicSource:"Dynamic",imageSet:"Select an image",toolTip:"Tooltip",altText:"Alt text",imageSetLink:"Set link",imageShape:"Shape",setLinkForImage:"Set link",imagePosition:"Position",imageFit:"Fit",imageFill:"Fill",imageAttachment:"Attachment",imageCustom:"Custom",imageAttachmentName:"Attachment name",imageSymbol:"Symbol",imageSymbolScale:"Symbol scale",imagerectangle:"Rectangle/Square",imagecircle:"Oval/Circle",imagehexagon:"Hexagon",imagepentagon:"Pentagon",imagerhombus:"Rhombus",imagetriangle:"Triangle",imageShapeSettings:"Shape settings",imageUploadBlankStatus:'Click the "{ButtonString}" button to select an image from your device.'}},95:function(e,t,n){"use strict";t.a={_widgetLabel:"Image",imageChooseShape:"Shape",imageCrop:"Crop"}}}))}}}));