System.register(["jimu-core","jimu-ui"],(function(e){var t,n;return{setters:[function(e){t=e},function(e){n=e}],execute:function(){e(function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=973)}({0:function(e,n){e.exports=t},1:function(e,t){e.exports=n},238:function(e,t){e.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11 6A5 5 0 111 6a5 5 0 0110 0zm1 0A6 6 0 110 6a6 6 0 0112 0zM8.046 4.146l-3.01 3.01-1.182-1.181a.5.5 0 10-.708.707l1.182 1.182a1 1 0 001.415 0l3.01-3.01a.5.5 0 10-.707-.708z" fill="#000"></path></svg>'},239:function(e,t){e.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.003 2.404l.778.778a.5.5 0 10.707-.707L2.367.353a.5.5 0 10-.707.708l.63.63A4.481 4.481 0 001.306 4.5c0 .515.087 1.01.246 1.47a9.794 9.794 0 001.014-.144 3.49 3.49 0 01-.26-1.326c0-.786.26-1.512.697-2.096zM5.806 1c-.397 0-.778.066-1.134.188L3.905.42A4.483 4.483 0 015.806 0c1.477 0 2.787.711 3.608 1.81-.23.26-.465.507-.702.738A3.497 3.497 0 005.806 1zM4.045 7.525c-.442.126-.87.223-1.275.296a4.483 4.483 0 002.536 1.152V11h-1.5a.5.5 0 000 1h4a.5.5 0 000-1h-1.5V8.973a4.5 4.5 0 003.951-5.14c-.314.316-.634.609-.957.881a3.5 3.5 0 01-5.255 2.811zm7.349-6.307a.49.49 0 01.123.691C8.061 6.64 3.267 7.812.805 7.781a.47.47 0 01-.453-.523.537.537 0 01.543-.476c2.198.003 6.593-1.072 9.797-5.438a.514.514 0 01.702-.126z" fill="#000"></path></svg>'},240:function(e,t){e.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11 2s-2.266-.168-3-.5c-.385-.174-.628-.478-.86-.767C6.837.353 6.554 0 6 0c-.554 0-.837.353-1.14.733-.232.289-.475.593-.86.767-.734.332-3 .5-3 .5s.077 3.846 1 6c.87 2.03 4 4 4 4s3.13-1.97 4-4c.923-2.154 1-6 1-6zm-5 8.791c.282-.2.647-.474 1.032-.796.875-.733 1.713-1.606 2.049-2.389.4-.932.638-2.306.771-3.522.048-.44.081-.845.103-1.18A16.061 16.061 0 018.584 2.7c-.326-.065-.701-.155-.996-.289-.626-.283-1.032-.8-1.25-1.078a5.88 5.88 0 00-.078-.1C6.046.974 6.012.994 6.002 1L6 1 5.998.999c-.01-.006-.044-.025-.258.235a5.88 5.88 0 00-.079.1c-.217.276-.623.794-1.249 1.077-.295.134-.67.224-.996.288a16.061 16.061 0 01-1.371.204c.022.336.055.74.103 1.18.133 1.217.372 2.591.771 3.523.336.783 1.174 1.656 2.05 2.389.384.322.749.595 1.031.796z" fill="#000"></path></svg>'},241:function(e,t){e.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11 2s-2.266-.168-3-.5c-.385-.174-.628-.478-.86-.767C6.837.353 6.554 0 6 0c-.554 0-.837.353-1.14.733-.232.289-.475.593-.86.767-.734.332-3 .5-3 .5s.077 3.846 1 6c.87 2.03 4 4 4 4s.1-.063.268-.177c.118-.08.27-.186.445-.313a3.5 3.5 0 003.916-5.788C10.963 3.862 11 2 11 2zM9.701 5.212a20.86 20.86 0 00.151-1.128 27.11 27.11 0 00.103-1.18A16.025 16.025 0 018.584 2.7c-.326-.065-.701-.156-.996-.289-.626-.283-1.032-.8-1.25-1.078a.732.732 0 00-.279-.312C6.02.989 6.008.996 6.003.999L6 1 5.998.999a.018.018 0 00-.011-.003c-.013.001-.037.012-.088.061a2.08 2.08 0 00-.159.177 6.516 6.516 0 00-.079.1c-.217.276-.623.794-1.249 1.077-.295.133-.67.224-.996.288a12.392 12.392 0 01-.786.13 18.563 18.563 0 01-.585.074c.022.336.055.74.103 1.18.133 1.217.372 2.591.771 3.523.336.783 1.174 1.655 2.05 2.389.197.165.388.317.567.453l.118.09a3.5 3.5 0 014.047-5.326zM11 8.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" fill="#000"></path></svg>'},242:function(e,t){e.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 3.5a1 1 0 11-2 0 1 1 0 012 0zM5 5.5a.5.5 0 000 1h.5v2H5a.5.5 0 000 1h2a.5.5 0 000-1h-.5v-3H5z" fill="#000"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6A6 6 0 110 6a6 6 0 0112 0zm-1 0A5 5 0 111 6a5 5 0 0110 0z" fill="#000"></path></svg>'},78:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M.304 6.016a1.028 1.028 0 011.466 0l4.398 4.451 8.062-8.16a1.028 1.028 0 011.466 0c.405.41.405 1.074 0 1.484l-8.795 8.902c-.405.41-1.062.41-1.466 0L.304 7.5a1.058 1.058 0 010-1.484z" fill="#000"></path><path d="M0 0h16v16H0z"></path></g></svg>'},973:function(e,t,n){"use strict";n.r(t),n.d(t,"ItemSelector",(function(){return Y})),n.d(t,"ItemDetail",(function(){return P})),n.d(t,"DataBadge",(function(){return T})),n.d(t,"ItemCategory",(function(){return b})),n.d(t,"ItemTypes",(function(){return a.SupportedItemTypes})),n.d(t,"SortField",(function(){return y})),n.d(t,"SortOrder",(function(){return w})),n.d(t,"itemSelectorUtils",(function(){return o}));var i={};n.r(i),n.d(i,"ItemSelector",(function(){return l})),n.d(i,"ItemDetail",(function(){return d})),n.d(i,"DataBadge",(function(){return h}));var o={};n.r(o),n.d(o,"getDsJsonFromItem",(function(){return g}));var r,a=n(0),s=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};function l(e){var t=e.theme;return Object(a.css)(r||(r=s(["\n    .modal-dialog{\n      max-width: auto;\n    }\n\n    .mt-13{\n      margin-top: ",";\n    }\n\n    .ds-thumbnail{\n      width:  ",";\n      height:  ",";\n      background-color: ",";\n    }\n\n    .ds-type{\n      font-size: ",";\n      color: ",";\n      max-width: ",";\n    }\n\n    .item-selector{\n      width: 100%;\n      height: 100%;\n      padding: 0;\n      position: relative;\n\n      .item-list-container{\n        overflow-x: auto;\n        overflow-y: auto;\n        padding-top: 0.25rem;\n        height: calc(100% - ",");\n      }\n\n      .item-border-color-cyan{\n        border: "," solid "," !important;\n      }\n\n      @media only screen and (max-width: 1210px){\n        .item-list{\n          width: 540px;\n        }\n      }\n\n      @media only screen and (min-width: 1210px){\n        .item-list{\n          width: 810px;\n        }\n      }\n\n      @media only screen and (min-width: 1480px){\n        .item-list{\n          width: 1080px;\n        }\n      }\n\n      @media only screen and (min-width: 1750px){\n        .item-list{\n          width: 1350px;\n        }\n      }\n\n      @media only screen and (min-width: 2020px){\n        .item-list{\n          width: 1620px;\n        }\n      }\n\n      @media only screen and (min-width: 2290px){\n        .item-list{\n          width: 1890px;\n        }\n      }\n\n      @media only screen and (min-width: 2560px){\n        .item-list{\n            width: 2160px;\n        }\n      }\n\n      @media only screen and (min-width: 2830px){\n        .item-list{\n            width: 2430px;\n        }\n      }\n\n      @media only screen and (min-width: 3100px){\n        .item-list{\n            width: 2700px;\n        }\n      }\n\n      .item-list{\n        display: flex;\n        flex-wrap: wrap;\n        margin-left: -0.5rem;\n        margin-right: -0.5rem;\n        overflow: visible;\n        min-width: ",";\n\n        .item{\n          width: ",";\n          margin: 0 "," "," ",";\n\n          .two-line-truncate{\n            overflow: hidden;\n            text-overflow: ellipsis;\n            display: -webkit-box;\n            -webkit-line-clamp: 2;\n            -webkit-box-orient: vertical;\n            word-break: break-word;\n            word-wrap: break-word;\n          }\n\n          .item-active-border-transparent{\n            border: "," solid transparent;\n\n            &:hover{\n              border-color: ",";\n            }\n          }\n\n          .item-card-container.item-border-transparent{\n            border: "," solid transparent;\n          }\n\n          .item-card-container{\n            padding-bottom: 122%;\n            position: relative;\n            overflow: hidden;\n\n            &:hover{\n              border-color: transparent !important;\n            }\n\n            .mt-10{\n              margin-top: 10px;\n            }\n\n            .item-card{\n              position: absolute;\n              background-color: ",";\n\n              .item-info-container{\n                padding: ",";\n              }\n\n              .item-icon{\n                cursor: pointer;\n                width: ",";\n                margin-right: -4px;\n              }\n\n              .item-sub-label{\n                width: 80%;\n                max-height: ",";\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n              }\n\n              .item-label{\n                font-size: ",";\n                line-height: ",";\n                color: ",";\n                height: ",";\n              }\n\n              .item-sub-label{\n                font-size: ",";\n                color: ",";\n              }\n\n              .item-thumbnail{\n                background-size: 100% 100%;\n                background-position: top center;\n                cursor: pointer;\n                height: 56%;\n              }\n\n              .item-badge-container{\n                position: absolute;\n                top: ",";\n                left: ",";\n              }\n\n              .item-active-icon, .item-part-active-icon{\n                position: absolute;\n                top: -2px;\n                right: -2px;\n\n                .item-active-icon-container, .item-part-active-icon-container{\n                  width: ",";\n                  height: ",";\n                  line-height: ",";\n                  color: ",";\n                  background-color: ",";\n                }\n\n                .item-part-active-icon-container{\n                  padding: ",";\n                }\n\n              }\n\n              .item-part-active-icon-container{\n                .item-part-active-icon-innerbox{\n                  width: ",";\n                  height: ",";\n                  background-color: ",";\n                  >div{\n                    width: ",";\n                    height: ",";\n                    border-radius: ",";\n                    background-color: ",";\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n    }\n\n  "],["\n    .modal-dialog{\n      max-width: auto;\n    }\n\n    .mt-13{\n      margin-top: ",";\n    }\n\n    .ds-thumbnail{\n      width:  ",";\n      height:  ",";\n      background-color: ",";\n    }\n\n    .ds-type{\n      font-size: ",";\n      color: ",";\n      max-width: ",";\n    }\n\n    .item-selector{\n      width: 100%;\n      height: 100%;\n      padding: 0;\n      position: relative;\n\n      .item-list-container{\n        overflow-x: auto;\n        overflow-y: auto;\n        padding-top: 0.25rem;\n        height: calc(100% - ",");\n      }\n\n      .item-border-color-cyan{\n        border: "," solid "," !important;\n      }\n\n      @media only screen and (max-width: 1210px){\n        .item-list{\n          width: 540px;\n        }\n      }\n\n      @media only screen and (min-width: 1210px){\n        .item-list{\n          width: 810px;\n        }\n      }\n\n      @media only screen and (min-width: 1480px){\n        .item-list{\n          width: 1080px;\n        }\n      }\n\n      @media only screen and (min-width: 1750px){\n        .item-list{\n          width: 1350px;\n        }\n      }\n\n      @media only screen and (min-width: 2020px){\n        .item-list{\n          width: 1620px;\n        }\n      }\n\n      @media only screen and (min-width: 2290px){\n        .item-list{\n          width: 1890px;\n        }\n      }\n\n      @media only screen and (min-width: 2560px){\n        .item-list{\n            width: 2160px;\n        }\n      }\n\n      @media only screen and (min-width: 2830px){\n        .item-list{\n            width: 2430px;\n        }\n      }\n\n      @media only screen and (min-width: 3100px){\n        .item-list{\n            width: 2700px;\n        }\n      }\n\n      .item-list{\n        display: flex;\n        flex-wrap: wrap;\n        margin-left: -0.5rem;\n        margin-right: -0.5rem;\n        overflow: visible;\n        min-width: ",";\n\n        .item{\n          width: ",";\n          margin: 0 "," "," ",";\n\n          .two-line-truncate{\n            overflow: hidden;\n            text-overflow: ellipsis;\n            display: -webkit-box;\n            -webkit-line-clamp: 2;\n            -webkit-box-orient: vertical;\n            word-break: break-word;\n            word-wrap: break-word;\n          }\n\n          .item-active-border-transparent{\n            border: "," solid transparent;\n\n            &:hover{\n              border-color: ",";\n            }\n          }\n\n          .item-card-container.item-border-transparent{\n            border: "," solid transparent;\n          }\n\n          .item-card-container{\n            padding-bottom: 122%;\n            position: relative;\n            overflow: hidden;\n\n            &:hover{\n              border-color: transparent !important;\n            }\n\n            .mt-10{\n              margin-top: 10px;\n            }\n\n            .item-card{\n              position: absolute;\n              background-color: ",";\n\n              .item-info-container{\n                padding: ",";\n              }\n\n              .item-icon{\n                cursor: pointer;\n                width: ",";\n                margin-right: -4px;\n              }\n\n              .item-sub-label{\n                width: 80%;\n                max-height: ",";\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n              }\n\n              .item-label{\n                font-size: ",";\n                line-height: ",";\n                color: ",";\n                height: ",";\n              }\n\n              .item-sub-label{\n                font-size: ",";\n                color: ",";\n              }\n\n              .item-thumbnail{\n                background-size: 100% 100%;\n                background-position: top center;\n                cursor: pointer;\n                height: 56%;\n              }\n\n              .item-badge-container{\n                position: absolute;\n                top: ",";\n                left: ",";\n              }\n\n              .item-active-icon, .item-part-active-icon{\n                position: absolute;\n                top: -2px;\n                right: -2px;\n\n                .item-active-icon-container, .item-part-active-icon-container{\n                  width: ",";\n                  height: ",";\n                  line-height: ",";\n                  color: ",";\n                  background-color: ",";\n                }\n\n                .item-part-active-icon-container{\n                  padding: ",";\n                }\n\n              }\n\n              .item-part-active-icon-container{\n                .item-part-active-icon-innerbox{\n                  width: ",";\n                  height: ",";\n                  background-color: ",";\n                  >div{\n                    width: ",";\n                    height: ",";\n                    border-radius: ",";\n                    background-color: ",";\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n    }\n\n  "])),a.polished.rem(13),a.polished.rem(18),a.polished.rem(18),t.colors.palette.info[400],a.polished.rem(13),t.colors.palette.dark[800],a.polished.rem(168),a.polished.rem(100),a.polished.rem(2),t.colors.palette.primary[700],a.polished.rem(540),a.polished.rem(240),a.polished.rem(15),a.polished.rem(30),a.polished.rem(15),a.polished.rem(2),t.colors.palette.primary[700],a.polished.rem(1),t.colors.secondary,a.polished.rem(12),a.polished.rem(50),a.polished.rem(58),a.polished.rem(16),a.polished.rem(20),t.colors.palette.dark[800],a.polished.rem(40),a.polished.rem(13),t.colors.palette.dark[600],a.polished.rem(8),a.polished.rem(8),a.polished.rem(26),a.polished.rem(26),a.polished.rem(26),t.colors.secondary,t.colors.palette.primary[700],a.polished.rem(3),a.polished.rem(18),a.polished.rem(18),t.colors.palette.secondary[300],a.polished.rem(10),a.polished.rem(10),a.polished.rem(1),t.colors.palette.primary[700])}var c,p=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};function d(e){var t=e.theme;return Object(a.css)(c||(c=p(["\n  .component-item-detail{\n    background: ",";\n    overflow: auto;\n    padding: 0 16px 16px 16px;\n    border-left: 1px solid ",";\n    border-right: 1px solid ",";\n    .ml-12{\n      margin-left: ",";\n    }\n    .container-fluid{\n      padding: 0 !important;\n    }\n    z-index: 3;\n    font-size: ",";\n    .small-text{\n      font-size: ",";\n    }\n    .html-container{\n      *{\n        color: "," !important;\n        font-size: "," !important;\n        font-weight: normal !important;\n        font-family: inherit !important;\n        background: "," !important;\n      }\n    }\n    .item-header{\n      height: 41px;\n      border-bottom: 1px solid ",";\n      height: ",";\n      margin-left: -16px;\n      margin-right: -16px;\n      .item-header-title{\n        font-size: 16px;\n        line-height: 41px;\n      }\n    }\n    .item-close{\n      cursor: pointer;\n      margin-right: -4px;\n    }\n    .item-img{\n      img{\n        width: 100%;\n      }\n    }\n    .item-line{\n      width: 100%;\n      height: 1px;\n      border-bottom: 1px solid ",";\n    }\n    .item-detial-title, .item-detial-title:hover, .item-detial-title:focus, .item-detial-title:active{\n      outline: none;\n      box-shadow: 0 0 0 !important;\n      border: 0 !important;\n      font-size: 16px;\n      white-space: normal !important;\n      color: ",";\n      .item-detial-title-text{\n        max-width: 290px;\n      }\n    }\n\n    .ds-thumbnail{\n      width:  ",";\n      height:  ",";\n      background-color: ",";\n    }\n\n    .ds-type{\n      font-size: ",";\n      color: ",";\n      max-width: ",";\n    }\n  }\n\n  "],["\n  .component-item-detail{\n    background: ",";\n    overflow: auto;\n    padding: 0 16px 16px 16px;\n    border-left: 1px solid ",";\n    border-right: 1px solid ",";\n    .ml-12{\n      margin-left: ",";\n    }\n    .container-fluid{\n      padding: 0 !important;\n    }\n    z-index: 3;\n    font-size: ",";\n    .small-text{\n      font-size: ",";\n    }\n    .html-container{\n      *{\n        color: "," !important;\n        font-size: "," !important;\n        font-weight: normal !important;\n        font-family: inherit !important;\n        background: "," !important;\n      }\n    }\n    .item-header{\n      height: 41px;\n      border-bottom: 1px solid ",";\n      height: ",";\n      margin-left: -16px;\n      margin-right: -16px;\n      .item-header-title{\n        font-size: 16px;\n        line-height: 41px;\n      }\n    }\n    .item-close{\n      cursor: pointer;\n      margin-right: -4px;\n    }\n    .item-img{\n      img{\n        width: 100%;\n      }\n    }\n    .item-line{\n      width: 100%;\n      height: 1px;\n      border-bottom: 1px solid ",";\n    }\n    .item-detial-title, .item-detial-title:hover, .item-detial-title:focus, .item-detial-title:active{\n      outline: none;\n      box-shadow: 0 0 0 !important;\n      border: 0 !important;\n      font-size: 16px;\n      white-space: normal !important;\n      color: ",";\n      .item-detial-title-text{\n        max-width: 290px;\n      }\n    }\n\n    .ds-thumbnail{\n      width:  ",";\n      height:  ",";\n      background-color: ",";\n    }\n\n    .ds-type{\n      font-size: ",";\n      color: ",";\n      max-width: ",";\n    }\n  }\n\n  "])),t.colors.palette.light[300],t.colors.palette.light[800],t.colors.palette.light[800],a.polished.rem(12),a.polished.rem(14),a.polished.rem(13),t.colors.black,a.polished.rem(14),t.colors.palette.light[300],t.colors.palette.light[800],a.polished.rem(45),t.colors.palette.light[800],t.colors.black,a.polished.rem(18),a.polished.rem(18),t.colors.palette.info[400],a.polished.rem(13),t.colors.palette.dark[800],a.polished.rem(168))}var m,u=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};function h(e){var t=e.theme;return Object(a.css)(m||(m=u(["\n    .badge{\n      width: ",";\n      height: ",";\n      border-radius: ",";\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-left: 2px;\n      svg{\n        color: ",";\n      }\n    }\n\n    .auth{\n      background-color: ",";\n    }\n\n    .living-atlas, .primium, .subscriber{\n      background-color: ",";\n    }\n\n  "],["\n    .badge{\n      width: ",";\n      height: ",";\n      border-radius: ",";\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-left: 2px;\n      svg{\n        color: ",";\n      }\n    }\n\n    .auth{\n      background-color: ",";\n    }\n\n    .living-atlas, .primium, .subscriber{\n      background-color: ",";\n    }\n\n  "])),a.polished.rem(18),a.polished.rem(18),a.polished.rem(9),t.colors.black,t.colors.palette.success[300],t.colors.palette.info[500])}var f=n(1);function g(e,t){var n,i;if(!e)return null;var o=a.dataSourceUtils.fixLayerId(e.title||e.id);if(e.type===a.SupportedItemTypes.WebMap)i=Object(a.Immutable)({id:o,type:null==t?void 0:t.WebMap});else if(e.type===a.SupportedItemTypes.WebScene)i=Object(a.Immutable)({id:o,type:null==t?void 0:t.WebScene});else if(e.type===a.SupportedItemTypes.FeatureCollection){i=(null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("Singlelayer"))?Object(a.Immutable)({id:o,type:a.DataSourceTypes.FeatureLayer}):Object(a.Immutable)({id:o,type:a.DataSourceTypes.GroupLayer})}else{var r=e.url;if(r)if(a.dataSourceUtils.isSupportedWholeService(r)){var s=a.dataSourceUtils.getDsTypeFromWholeServiceUrl(r);i=Object(a.Immutable)({id:o,type:s})}else if(a.dataSourceUtils.isSupportedSingleLayerService(r)){var l=a.dataSourceUtils.getFullServiceUrl(r,!1);s=void 0;switch(a.dataSourceUtils.getDsTypeFromWholeServiceUrl(l)){case a.DataSourceTypes.FeatureService:case a.DataSourceTypes.MapService:s=a.DataSourceTypes.FeatureLayer;break;case a.DataSourceTypes.SceneService:s=a.DataSourceTypes.SceneLayer}s&&(i=Object(a.Immutable)({id:o,type:s}))}}return i}var v,b,y,w,x=(v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),j=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},S=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},O=n(238),I=n(239),N=n(240),k=n(241),M={},_=function(e){function t(t){var n=e.call(this,t)||this;return n.__unmounted=!1,n.fetchItemInfo=function(e,t,i){return void 0===i&&(i=!0),j(n,void 0,void 0,(function(){var n,o=this;return S(this,(function(r){switch(r.label){case 0:return e&&t?[3,2]:[4,Promise.reject()];case 1:return[2,r.sent()];case 2:return n=this.getCachePromiseId(e,t),i&&M[n]?[4,M[n]]:[3,4];case 3:return[2,r.sent()];case 4:return M[n]=a.requestUtils.requestWrapper(t,(function(n){return j(o,void 0,void 0,(function(){return S(this,(function(i){switch(i.label){case 0:return[4,a.esri.restPortal.getItem(e,{portal:a.portalUrlUtils.getPortalRestUrl(t),authentication:n})];case 1:return[2,i.sent()]}}))}))})),[4,M[n]];case 5:return[2,r.sent()]}}))}))},n.getCachePromiseId=function(e,t){return t+"-"+e},n.state={item:null},n}return x(t,e),t.prototype.componentDidMount=function(){var e=this;this.__unmounted=!1,!this.props.item&&this.props.itemId&&this.props.portalUrl&&this.fetchItemInfo(this.props.itemId,this.props.portalUrl).then((function(t){e.__unmounted||e.setState({item:t})}))},t.prototype.componentDidUpdate=function(e,t){var n=this;this.props.item||e.portalUrl===this.props.portalUrl&&e.itemId===this.props.itemId||this.fetchItemInfo(this.props.itemId,this.props.portalUrl,!1).then((function(e){n.__unmounted||n.setState({item:e})}),(function(){n.__unmounted||n.setState({item:null})})),this.props.item&&this.setState({item:null})},t.prototype.componentWillUnmount=function(){this.__unmounted=!0},t.prototype.render=function(){var e,t,n;if(!this.props.item&&!this.props.url&&!this.state.item)return null;var i=this.props.item||this.state.item,o=a.dataSourceUtils.isOriginDataPremium(i,this.props.url),r=a.dataSourceUtils.isOriginDataSubscriber(i,this.props.url),s=(null===(n=null===(t=null==i?void 0:i.contentStatus)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.indexOf("authoritative"))>-1||r,l="livingatlas"===(null==i?void 0:i.groupDesignations)||r;return Object(a.jsx)("div",{className:Object(a.classNames)("h-100 d-flex justify-content-center align-items-center",(e={},e[this.props.className]=!!this.props.className,e))},s&&Object(a.jsx)("div",{className:"auth badge",title:this.props.intl.formatMessage({id:"authoritativeBadgeTooltip",defaultMessage:f.defaultMessages.authoritativeBadgeTooltip})},Object(a.jsx)(f.Icon,{icon:O,className:"auth-icon",size:12,title:this.props.intl.formatMessage({id:"authoritativeBadgeTooltip",defaultMessage:f.defaultMessages.authoritativeBadgeTooltip})})),l&&Object(a.jsx)("div",{className:"living-atlas badge",title:this.props.intl.formatMessage({id:"livingAtlasBadgeTooltip",defaultMessage:f.defaultMessages.livingAtlasBadgeTooltip})},Object(a.jsx)(f.Icon,{icon:I,className:"living-atlas-icon",size:12,title:this.props.intl.formatMessage({id:"livingAtlasBadgeTooltip",defaultMessage:f.defaultMessages.livingAtlasBadgeTooltip})})),o&&Object(a.jsx)("div",{className:"primium badge",title:this.props.intl.formatMessage({id:"premiumBadgeTooltip",defaultMessage:f.defaultMessages.premiumBadgeTooltip})},Object(a.jsx)(f.Icon,{icon:k,className:"primium-icon",size:12,title:this.props.intl.formatMessage({id:"premiumBadgeTooltip",defaultMessage:f.defaultMessages.premiumBadgeTooltip})})),r&&!o&&Object(a.jsx)("div",{className:"subscriber badge",title:this.props.intl.formatMessage({id:"subscriberBadgeTooltip",defaultMessage:f.defaultMessages.subscriberBadgeTooltip})},Object(a.jsx)(f.Icon,{icon:N,className:"subscriber-icon",size:12,title:this.props.intl.formatMessage({id:"subscriberBadgeTooltip",defaultMessage:f.defaultMessages.subscriberBadgeTooltip})})))},t}(a.React.PureComponent),D=a.themeUtils.withStyles(Object(a.injectIntl)(_),"DataBadge"),T=D,U=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),A=new(0,a.esri.Sanitizer),C=null,z=function(e){function t(t){var n=e.call(this,t)||this;return n.__unmount=!1,n.state={dataComponentsUtils:null,AllDataSourceTypes:null},n}return U(t,e),t.prototype.componentDidMount=function(){var e=this;C||(C=a.moduleLoader.loadModule("jimu-ui/advanced/data-source-selector")),C.then((function(t){var n=t.dataComponentsUtils,i=t.AllDataSourceTypes;e.__unmount||e.setState({dataComponentsUtils:n,AllDataSourceTypes:i})}))},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.render=function(){var e,t,n;if(!this.props.item)return null;var i=a.SessionManager.getInstance().getSessionByUrl(this.props.portalUrl),o=this.props.item.thumbnail&&this.props.portalUrl?(null==i?void 0:i.token)?this.props.portalUrl.replace(/\/$/,"")+"/sharing/rest/content/items/"+this.props.item.id+"/info/"+this.props.item.thumbnail+"?token="+i.token:this.props.portalUrl.replace(/\/$/,"")+"/sharing/rest/content/items/"+this.props.item.id+"/info/"+this.props.item.thumbnail:"Web Scene"===this.props.item.type?"https://static.arcgis.com/images/scene.png":"https://static.arcgis.com/images/desktopapp.png",r=this.props.item.id&&this.props.portalUrl?this.props.portalUrl.replace(/\/sharing\/rest/,"").replace(/\/$/,"")+"/home/item.html?id="+this.props.item.id:null,s=this.props.item,l=s.title,c=s.owner,p=s.modified,d=s.description,m=s.snippet,u=A.sanitize(d),h=A.sanitize(m),v=g(this.props.item,this.state.AllDataSourceTypes),b=null===(t=this.state.dataComponentsUtils)||void 0===t?void 0:t.getDsTypeString(null==v?void 0:v.type,this.props.intl);return Object(a.jsx)("div",{className:Object(a.classNames)("h-100",(e={},e[this.props.className]=!!this.props.className,e))},Object(a.jsx)("div",{className:"h-100 component-item-detail",style:this.props.style},Object(a.jsx)("div",{className:"item-header d-flex justify-content-between"},Object(a.jsx)(f.PanelHeader,{level:1,className:"p-3",showClose:!!this.props.onClose,onClose:this.props.onClose,title:this.props.intl.formatMessage({id:"details",defaultMessage:f.defaultMessages.details})})),Object(a.jsx)("div",{className:"container-fluid"},Object(a.jsx)("div",{className:"row mt-2 mb-2 px-2"},r?Object(a.jsx)(f.Link,{to:r,className:"col item-img",themeStyle:{type:"link"},target:"_blank"},Object(a.jsx)("img",{src:o,alt:l})):Object(a.jsx)("div",{className:"col item-img"},Object(a.jsx)("img",{src:o,alt:l}))),Object(a.jsx)("div",{className:"mt-2 mb-2"},r?Object(a.jsx)(f.Link,{to:r,className:"w-100 item-detial-title p-0 text-left text-break",themeStyle:{type:"link"},target:"_blank"},Object(a.jsx)("h5",{className:"item-detial-title-text w-100",title:l},l)):Object(a.jsx)("h5",{className:"w-100 text-truncate item-detial-title",title:l},l)),Object(a.jsx)("div",{className:"d-flex align-items-center w-100 mt-1",title:b},Object(a.jsx)("div",{className:"d-flex align-items-center justify-content-center flex-shrink-0 ds-thumbnail"},Object(a.jsx)(f.Icon,{icon:null===(n=this.state.dataComponentsUtils)||void 0===n?void 0:n.getDsIcon(v),className:"text-dark",size:"12"})),Object(a.jsx)("div",{className:"flex-grow-1 text-truncate pl-2 ds-type"},Object(a.jsx)("div",{className:"text-truncate ds-type-name"},b))),Object(a.jsx)("div",{className:"row mt-2 mb-2"},Object(a.jsx)("div",{className:"col small-text"},this.props.intl.formatMessage({id:"owner",defaultMessage:f.defaultMessages.owner})+": "+c)),Object(a.jsx)("div",{className:"row mt-2 mb-2"},Object(a.jsx)("div",{className:"col small-text"},this.props.intl.formatMessage({id:"updated",defaultMessage:f.defaultMessages.updated})+": "+this.props.intl.formatDate(new Date(p)))),Object(a.jsx)("div",{className:"row mt-2 mb-2"},Object(a.jsx)("div",{className:"ml-12"},Object(a.jsx)(D,{item:this.props.item}))),Object(a.jsx)("div",{className:"row mt-2 mb-2"},Object(a.jsx)("div",{className:"col item-line"})),m&&Object(a.jsx)("div",{className:"row mt-2 mb-2"},Object(a.jsx)("p",{className:"col html-container",dangerouslySetInnerHTML:{__html:h}})),Object(a.jsx)("div",{className:"row mt-2 mb-2"},Object(a.jsx)("h6",{className:"col"},this.props.intl.formatMessage({id:"description",defaultMessage:f.defaultMessages.description}))),Object(a.jsx)("div",{className:"row mt-2 mb-2"},Object(a.jsx)("div",{className:"col html-container",dangerouslySetInnerHTML:{__html:u}})))))},t}(a.React.PureComponent),P=a.themeUtils.withStyles(Object(a.injectIntl)(z),"ItemDetail"),R=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),E=n(78),B=n(242),L=null,W=function(e){function t(t){var n=e.call(this,t)||this;return n.__unmount=!1,n.onItemClicked=function(e){var t=(new Date).getTime();(!n.lastClickTime||t-n.lastClickTime>1e3)&&(n.props.selected||n.props.partSelected?n.props.onRemoveDataClicked(e,n.props.item):n.props.onAddDataClicked(e,n.props.item)),n.lastClickTime=t},n.onShowDetailClicked=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n.props.onShowDetailClicked(e,n.props.item)},n.state={dataComponentsUtils:null,AllDataSourceTypes:null},n}return R(t,e),t.prototype.componentDidMount=function(){var e=this;L||(L=a.moduleLoader.loadModule("jimu-ui/advanced/data-source-selector")),L.then((function(t){var n=t.dataComponentsUtils,i=t.AllDataSourceTypes;e.__unmount||e.setState({dataComponentsUtils:n,AllDataSourceTypes:i})}))},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.render=function(){var e,t;if(!this.props.item)return null;var n=a.SessionManager.getInstance().getSessionByUrl(this.props.portalUrl),i=this.props.item.thumbnail&&this.props.portalUrl?(null==n?void 0:n.token)?this.props.portalUrl.replace(/\/$/,"")+"/sharing/rest/content/items/"+this.props.item.id+"/info/"+this.props.item.thumbnail+"?token="+n.token:this.props.portalUrl.replace(/\/$/,"")+"/sharing/rest/content/items/"+this.props.item.id+"/info/"+this.props.item.thumbnail:"Web Scene"===this.props.item.type?"https://static.arcgis.com/images/scene.png":"https://static.arcgis.com/images/desktopapp.png",o=g(this.props.item,this.state.AllDataSourceTypes),r=null===(e=this.state.dataComponentsUtils)||void 0===e?void 0:e.getDsTypeString(null==o?void 0:o.type,this.props.intl);return a.React.createElement("div",{className:"item",onClick:this.onItemClicked},a.React.createElement("div",{className:Object(a.classNames)("item-active-border-transparent",{"item-border-color-cyan":this.props.selected||this.props.partSelected})},a.React.createElement("div",{className:"item-card-container"},a.React.createElement("div",{className:"h-100 w-100 item-card"},a.React.createElement("div",{className:"item-badge-container"},a.React.createElement(D,{item:this.props.item})),a.React.createElement("div",{className:Object(a.classNames)({"item-active-icon":this.props.selected},{"d-none":!this.props.selected})},a.React.createElement("div",{className:"text-center item-active-icon-container"},a.React.createElement(f.Icon,{icon:E,size:16}))),a.React.createElement("div",{className:Object(a.classNames)({"item-part-active-icon":this.props.partSelected},{"d-none":!this.props.partSelected})},a.React.createElement("div",{className:"item-part-active-icon-container"},a.React.createElement("div",{className:"item-part-active-icon-innerbox d-flex justify-content-center align-items-center"},a.React.createElement("div",null)))),a.React.createElement("div",{className:"w-100 item-thumbnail",style:{backgroundImage:"url("+i+")"}}),a.React.createElement("div",{className:"w-100 nav flex-column item-info-container"},a.React.createElement("div",{className:"two-line-truncate item-label",title:this.props.item.title},this.props.item.title),a.React.createElement("div",{className:"d-flex align-items-center w-100 mt-13",title:r},a.React.createElement("div",{className:"d-flex align-items-center justify-content-center flex-shrink-0 ds-thumbnail"},a.React.createElement(f.Icon,{icon:null===(t=this.state.dataComponentsUtils)||void 0===t?void 0:t.getDsIcon(o),className:"text-dark",size:"12"})),a.React.createElement("div",{className:"flex-grow-1 text-truncate pl-2 ds-type"},a.React.createElement("div",{className:"text-truncate ds-type-name"},r))),a.React.createElement("div",{className:"d-flex justify-content-between align-items-center mt-10"},a.React.createElement("div",{className:"text-truncate item-sub-label",title:this.props.intl.formatMessage({id:"owner",defaultMessage:f.defaultMessages.owner})},this.props.item.owner||""),a.React.createElement("div",{className:"mw-50 d-flex align-items-top justify-content-end item-icon",title:this.props.intl.formatMessage({id:"details",defaultMessage:f.defaultMessages.details})},a.React.createElement(f.Button,{type:"tertiary",size:"sm",icon:!0,onClick:this.onShowDetailClicked},a.React.createElement(f.Icon,{icon:B})))))))))},t}(a.React.PureComponent);!function(e){e.MyContent="MY_CONTENT",e.MyGroup="MY_GROUP",e.MyOrganization="MY_ORGANIZATION",e.Public="PUBLIC",e.LivingAtlas="LIVING_ATLAS"}(b||(b={})),function(e){e.Modified="modified",e.Title="title",e.Views="numViews"}(y||(y={})),function(e){e.Desc="desc",e.Asc="asc"}(w||(w={}));var F=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),G=function(){return(G=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},V=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},H=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},q=null,$=function(e){function t(t){var n=e.call(this,t)||this;return n.__unmount=!1,n.pageStart=0,n.pageSize=document?Math.max(3,Math.min(10,Math.ceil((document.body.clientWidth-440)/240)))*Math.ceil((document.body.clientHeight-180)/290):60,n.setItems=function(e,t,i,o,r,s,l){n.fetchLivingAtlasGroupId().then((function(c){var p=n.getSearchRequestOptions(e,t,i,c,o,r,s,l);if(p){var d=n.getPortalUrl();a.esri.restPortal.searchItems(p).then((function(e){var t;if(!n.__unmount){var i=null===(t=e.results)||void 0===t?void 0:t.map((function(e){return G(G({},e),{portalUrl:d})}));n.setState({loaded:!0,items:l?n.state.items.concat(i):i})}}),(function(e){n.__unmount||n.setState({loaded:!0,items:[]}),console.error(e)}))}else n.setState({loaded:!0,items:[]})}))},n.getSearchRequestOptions=function(e,t,i,o,r,s,l,c){var p=l?"("+l+") AND":"";Array.isArray(e)?e.forEach((function(t,n){var i="";t===a.SupportedItemTypes.FeatureCollection?i+=' AND NOT typekeywords:("Map Notes" OR "Route Layer")':t===a.SupportedItemTypes.SceneService&&(i+=' AND typekeywords:("3DObject" OR "Point")'),p+=0===n?' ((type: "'+t+'"'+i+")":' OR (type: "'+t+'"'+i+")",n===e.length-1&&(p+=")")})):p+=' type:"'+e+'"';var d=t;c&&(n.pageStart=n.state.items.length+1);var m=Object(a.getAppStore)().getState(),u=m&&m.user;if(u&&n.props.category===b.MyContent)p+=" AND owner:"+u.username,s&&(p+=" AND ownerfolder: "+s);else if(u&&n.props.category===b.MyOrganization)p+=" AND orgid:"+u.orgId;else if(u&&n.props.category===b.MyGroup)if((null==r?void 0:r.length)>0){p+=" AND (access:shared OR access:public OR access:org) AND (group:("+r.reduce((function(e,t,n){return 0===n?t:e+" OR "+t}),"")+"))"}else p=null;else n.props.category===b.LivingAtlas&&(o?p+=" AND group:"+o:p=null);return p?{q:p+' AND NOT type:"Web Mapping Application"',sortField:d,sortOrder:i||"desc",num:n.pageSize,start:n.pageStart,authentication:a.SessionManager.getInstance().getSessionByUrl(n.getPortalUrl())}:null},n.getPortalUrl=function(){var e,t;return n.props.category===b.Public&&(null===(t=null===(e=Object(a.getAppStore)().getState())||void 0===e?void 0:e.portalSelf)||void 0===t?void 0:t.isPortal)?"https://www.arcgis.com":n.props.portalUrl},n.fetchLivingAtlasGroupId=function(){return V(n,void 0,void 0,(function(){var e,t,n;return H(this,(function(i){switch(i.label){case 0:return q?[4,q]:[3,2];case 1:return[2,i.sent()];case 2:return e=Object(a.getAppStore)().getState().portalSelf,(t=null==e?void 0:e.livingAtlasGroupQuery)?(n={num:1,start:0,sortField:"title",sortOrder:"asc",q:t,authentication:a.SessionManager.getInstance().getSessionByUrl(this.getPortalUrl())},q=a.esri.restPortal.searchGroups(n).then((function(e){var t;return null===(t=null==e?void 0:e.results[0])||void 0===t?void 0:t.id}))):q=Promise.resolve(null),[2,q]}}))}))},n.getWhetherItemSelected=function(e){return n.props.selectedItems&&n.props.selectedItems.some((function(t){return t.id===e.id}))},n.getWhetherItemPartSelected=function(e){return n.props.partSelectedItems&&n.props.partSelectedItems.some((function(t){return t.id===e.id}))},n.onScroll=function(e){var t=e.target.clientHeight,i=e.target.scrollHeight-(t+e.target.scrollTop)<=10;n.state.loaded&&i&&(n.setState({loaded:!1}),n.setItems(n.props.itemType,n.props.sortField,n.props.sortOrder,n.getRealGroupIds(),n.props.folderId,n.props.searchValue,!0))},n.onShowDetailClicked=function(e,t){n.setState({showDetailItem:t})},n.onCloseDetailClicked=function(){n.setState({showDetailItem:null})},n.onAddDataClicked=function(e,t){var i;i=n.props.isRadio?[t]:n.props.selectedItems.concat(t),n.props.onSelect&&n.props.onSelect(i,t)},n.onRemoveDataClicked=function(e,t){var i=n.props.selectedItems.filter((function(e){return e.id!==t.id}));n.props.onRemove&&n.props.onRemove(i,t)},n.state={loaded:!1,items:[],showDetailItem:null},n}return F(t,e),t.prototype.componentDidMount=function(){this.__unmount=!1,this.setItems(this.props.itemType,this.props.sortField,this.props.sortOrder,this.getRealGroupIds(),this.props.folderId,this.props.searchValue)},t.prototype.componentDidUpdate=function(e,t){e.portalUrl===this.props.portalUrl&&e.category===this.props.category&&e.isRadio===this.props.isRadio&&this.isItemTypeSame(e.itemType,this.props.itemType)&&e.sortField===this.props.sortField&&e.searchValue===this.props.searchValue&&e.sortOrder===this.props.sortOrder&&e.folderId===this.props.folderId&&e.groupId===this.props.groupId||(this.setState({loaded:!1}),this.pageStart=0,this.contentNode&&(this.contentNode.scrollTop=0),this.setItems(this.props.itemType,this.props.sortField,this.props.sortOrder,this.getRealGroupIds(),this.props.folderId,this.props.searchValue))},t.prototype.componentWillUnmount=function(){this.__unmount=!0,this.contentNode&&this.contentNode.removeEventListener("scroll",this.onScroll)},t.prototype.isItemTypeSame=function(e,t){var n=Array.isArray(e),i=Array.isArray(t);return n&&i?e.length===t.length&&e.every((function(e){return t.some((function(t){return t===e}))})):e===t},t.prototype.getRealGroupIds=function(){return this.props.groupId?[this.props.groupId]:this.getAllGroupIds()},t.prototype.getAllGroupIds=function(){var e,t,n=null===(t=null===(e=Object(a.getAppStore)())||void 0===e?void 0:e.getState())||void 0===t?void 0:t.user;return((null==n?void 0:n.groups)||[]).map((function(e){return e.id}))},t.prototype.render=function(){var e,t=this,n=Object(a.jsx)("div",{className:"item-list"},this.state.items&&this.state.items.map((function(e,n){return Object(a.jsx)(W,{selected:t.getWhetherItemSelected(e),partSelected:t.getWhetherItemPartSelected(e),key:n,item:e,portalUrl:t.getPortalUrl(),onAddDataClicked:t.onAddDataClicked,intl:t.props.intl,onRemoveDataClicked:t.onRemoveDataClicked,onShowDetailClicked:t.onShowDetailClicked})}))),i=this.props.getDetailPosition&&this.props.getDetailPosition()||{l:"0",t:"0",r:"auto",b:"auto",h:"auto",w:"300px"};return Object(a.jsx)("div",{className:Object(a.classNames)("w-100 h-100",(e={},e[this.props.className]=!!this.props.className,e))},Object(a.jsx)("div",{className:"item-selector"},Object(a.jsx)("div",{className:"w-100 h-100 d-flex flex-wrap justify-content-center align-items-start item-list-container",onScroll:this.onScroll,ref:function(e){return t.contentNode=e}},n,!this.state.loaded||this.state.items&&0!==this.state.items.length?null:Object(a.jsx)("div",{className:"w-100 h-100 p-2"},this.props.intl.formatMessage({id:"noItemFoundWarning",defaultMessage:f.defaultMessages.noItemFoundWarning}))),this.state.showDetailItem?Object(a.jsx)(P,{item:this.state.showDetailItem,portalUrl:this.getPortalUrl(),onClose:this.onCloseDetailClicked,style:{position:"fixed",right:""+i.r,left:""+i.l,top:""+i.t,bottom:""+i.b,height:""+i.h,width:""+i.w}}):null,!this.state.loaded&&Object(a.jsx)(f.Loading,{type:f.LoadingType.Primary})))},t}(a.React.PureComponent),Y=a.themeUtils.withStyles(Object(a.injectIntl)($),"ItemSelector");a.ThemeManager.getInstance().registerJimuThemeStyleModule("jimu-ui/basic/item-components/",{componentStyles:i})}}))}}}));